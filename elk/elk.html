
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>elk · 观星</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="观星">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../flutter/" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../C/">
            
                <a href="../C/">
            
                    
                    C
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../C/关键 字.html">
            
                <a href="../C/关键 字.html">
            
                    
                    关键 字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../C/指针.html">
            
                <a href="../C/指针.html">
            
                    
                    指针
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../C/可变数组.html">
            
                <a href="../C/可变数组.html">
            
                    
                    可变数组
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../android/">
            
                <a href="../android/">
            
                    
                    android
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../android/Activity生命周期.html">
            
                <a href="../android/Activity生命周期.html">
            
                    
                    Activity生命周期
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../android/Library.html">
            
                <a href="../android/Library.html">
            
                    
                    Library
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../android/LinearLayout.html">
            
                <a href="../android/LinearLayout.html">
            
                    
                    LinearLayout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../android/mac adb.html">
            
                <a href="../android/mac adb.html">
            
                    
                    mac adb
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../apple/">
            
                <a href="../apple/">
            
                    
                    apple
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../apple/Mac常用.html">
            
                <a href="../apple/Mac常用.html">
            
                    
                    Mac常用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../apple/iOS/">
            
                <a href="../apple/iOS/">
            
                    
                    iOS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="../apple/iOS/@IBInspectable @IBDesignable.html">
            
                <a href="../apple/iOS/@IBInspectable @IBDesignable.html">
            
                    
                    @IBInspectable @IBDesignable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="../apple/iOS/AES 算法.html">
            
                <a href="../apple/iOS/AES 算法.html">
            
                    
                    AES 算法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="../apple/iOS/AFNetworking.html">
            
                <a href="../apple/iOS/AFNetworking.html">
            
                    
                    AFNetworking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="../apple/iOS/App启动时间优化.html">
            
                <a href="../apple/iOS/App启动时间优化.html">
            
                    
                    App启动时间优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="../apple/iOS/AutoreleasePoolPage.html">
            
                <a href="../apple/iOS/AutoreleasePoolPage.html">
            
                    
                    AutoreleasePoolPage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="../apple/iOS/Carthage.html">
            
                <a href="../apple/iOS/Carthage.html">
            
                    
                    Carthage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="../apple/iOS/Cell无需先注册.html">
            
                <a href="../apple/iOS/Cell无需先注册.html">
            
                    
                    Cell无需先注册
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.8" data-path="../apple/iOS/Cocoapods.html">
            
                <a href="../apple/iOS/Cocoapods.html">
            
                    
                    Cocoapods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.9" data-path="../apple/iOS/EXC_BAD_ACCESS.html">
            
                <a href="../apple/iOS/EXC_BAD_ACCESS.html">
            
                    
                    EXC_BAD_ACCESS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.10" data-path="../apple/iOS/Event.html">
            
                <a href="../apple/iOS/Event.html">
            
                    
                    Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.11" data-path="../apple/iOS/FlexBox - YogaKit.html">
            
                <a href="../apple/iOS/FlexBox - YogaKit.html">
            
                    
                    FlexBox - YogaKit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.12" data-path="../apple/iOS/Framework.html">
            
                <a href="../apple/iOS/Framework.html">
            
                    
                    Framework
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.13" data-path="../apple/iOS/HandyJSON.html">
            
                <a href="../apple/iOS/HandyJSON.html">
            
                    
                    HandyJSON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.14" data-path="../apple/iOS/Hopper Disassembler.html">
            
                <a href="../apple/iOS/Hopper Disassembler.html">
            
                    
                    Hopper Disassembler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.15" data-path="../apple/iOS/IPA.html">
            
                <a href="../apple/iOS/IPA.html">
            
                    
                    IPA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.16" data-path="../apple/iOS/Jenkins自动打包.html">
            
                <a href="../apple/iOS/Jenkins自动打包.html">
            
                    
                    Jenkins自动打包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.17" data-path="../apple/iOS/LLDB.html">
            
                <a href="../apple/iOS/LLDB.html">
            
                    
                    LLDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.18" data-path="../apple/iOS/Lock.html">
            
                <a href="../apple/iOS/Lock.html">
            
                    
                    Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.19" data-path="../apple/iOS/MP4 合成.html">
            
                <a href="../apple/iOS/MP4 合成.html">
            
                    
                    MP4 合成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.20" data-path="../apple/iOS/MVC & MVVM.html">
            
                <a href="../apple/iOS/MVC & MVVM.html">
            
                    
                    MVC & MVVM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.21" data-path="../apple/iOS/Masonry.html">
            
                <a href="../apple/iOS/Masonry.html">
            
                    
                    Masonry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.22" data-path="../apple/iOS/PDF 录制.html">
            
                <a href="../apple/iOS/PDF 录制.html">
            
                    
                    PDF 录制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.23" data-path="../apple/iOS/PerfDog.html">
            
                <a href="../apple/iOS/PerfDog.html">
            
                    
                    PerfDog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.24" data-path="../apple/iOS/RAC.html">
            
                <a href="../apple/iOS/RAC.html">
            
                    
                    RAC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.25" data-path="../apple/iOS/RACObserver.html">
            
                <a href="../apple/iOS/RACObserver.html">
            
                    
                    RACObserver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.26" data-path="../apple/iOS/RAC实现代理.html">
            
                <a href="../apple/iOS/RAC实现代理.html">
            
                    
                    RAC实现代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.27" data-path="../apple/iOS/ReactNative.html">
            
                <a href="../apple/iOS/ReactNative.html">
            
                    
                    ReactNative
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.28" data-path="../apple/iOS/Reveal 4.html">
            
                <a href="../apple/iOS/Reveal 4.html">
            
                    
                    Reveal 4
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.29" data-path="../apple/iOS/SDK 注入.html">
            
                <a href="../apple/iOS/SDK 注入.html">
            
                    
                    SDK 注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.30" data-path="../apple/iOS/SDWebImage.html">
            
                <a href="../apple/iOS/SDWebImage.html">
            
                    
                    SDWebImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.31" data-path="../apple/iOS/SideTables.html">
            
                <a href="../apple/iOS/SideTables.html">
            
                    
                    SideTables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32" data-path="../apple/iOS/Swift/">
            
                <a href="../apple/iOS/Swift/">
            
                    
                    Swift
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.32.1" data-path="../apple/iOS/Swift/Class vs Struct.html">
            
                <a href="../apple/iOS/Swift/Class vs Struct.html">
            
                    
                    Class vs Struct
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.2" data-path="../apple/iOS/Swift/Moya.html">
            
                <a href="../apple/iOS/Swift/Moya.html">
            
                    
                    Moya
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.3" data-path="../apple/iOS/Swift/Python & Swift 对比.html">
            
                <a href="../apple/iOS/Swift/Python & Swift 对比.html">
            
                    
                    Python & Swift 对比
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.4" data-path="../apple/iOS/Swift/RxSwift.html">
            
                <a href="../apple/iOS/Swift/RxSwift.html">
            
                    
                    RxSwift
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.5" data-path="../apple/iOS/Swift/Self  self  type.html">
            
                <a href="../apple/iOS/Swift/Self  self  type.html">
            
                    
                    Self  self  type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.6" data-path="../apple/iOS/Swift/Swift JSON 转 model.html">
            
                <a href="../apple/iOS/Swift/Swift JSON 转 model.html">
            
                    
                    Swift JSON 转 model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.7" data-path="../apple/iOS/Swift/Swift Pointer.html">
            
                <a href="../apple/iOS/Swift/Swift Pointer.html">
            
                    
                    Swift Pointer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.8" data-path="../apple/iOS/Swift/Swift 枚举.html">
            
                <a href="../apple/iOS/Swift/Swift 枚举.html">
            
                    
                    Swift 枚举
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.9" data-path="../apple/iOS/Swift/Swift 泛型.html">
            
                <a href="../apple/iOS/Swift/Swift 泛型.html">
            
                    
                    Swift 泛型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.10" data-path="../apple/iOS/Swift/Swift 派发问题 协议和子类到底使用哪个？？？.html">
            
                <a href="../apple/iOS/Swift/Swift 派发问题 协议和子类到底使用哪个？？？.html">
            
                    
                    Swift 派发问题 协议和子类到底使用哪个？？？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.11" data-path="../apple/iOS/Swift/Swift.html">
            
                <a href="../apple/iOS/Swift/Swift.html">
            
                    
                    Swift
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.12" data-path="../apple/iOS/Swift/swift defer.html">
            
                <a href="../apple/iOS/Swift/swift defer.html">
            
                    
                    swift defer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.13" data-path="../apple/iOS/Swift/swift 绘图.html">
            
                <a href="../apple/iOS/Swift/swift 绘图.html">
            
                    
                    swift 绘图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.14" data-path="../apple/iOS/Swift/swift 脚本.html">
            
                <a href="../apple/iOS/Swift/swift 脚本.html">
            
                    
                    swift 脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.32.15" data-path="../apple/iOS/Swift/swift 关键字.html">
            
                <a href="../apple/iOS/Swift/swift 关键字.html">
            
                    
                    swift 关键字
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2.33" data-path="../apple/iOS/Swift 不同数据类型转换.html">
            
                <a href="../apple/iOS/Swift 不同数据类型转换.html">
            
                    
                    Swift 不同数据类型转换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.34" data-path="../apple/iOS/Sync & Async.html">
            
                <a href="../apple/iOS/Sync & Async.html">
            
                    
                    Sync & Async
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.35" data-path="../apple/iOS/Tagged Point.html">
            
                <a href="../apple/iOS/Tagged Point.html">
            
                    
                    Tagged Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.36" data-path="../apple/iOS/UI Tests.html">
            
                <a href="../apple/iOS/UI Tests.html">
            
                    
                    UI Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.37" data-path="../apple/iOS/UI 刷新机制.html">
            
                <a href="../apple/iOS/UI 刷新机制.html">
            
                    
                    UI 刷新机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.38" data-path="../apple/iOS/UILabel.html">
            
                <a href="../apple/iOS/UILabel.html">
            
                    
                    UILabel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.39" data-path="../apple/iOS/UINavigationBar颜色相关.html">
            
                <a href="../apple/iOS/UINavigationBar颜色相关.html">
            
                    
                    UINavigationBar颜色相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.40" data-path="../apple/iOS/UITextView.html">
            
                <a href="../apple/iOS/UITextView.html">
            
                    
                    UITextView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.41" data-path="../apple/iOS/UI布局.html">
            
                <a href="../apple/iOS/UI布局.html">
            
                    
                    UI布局
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.42" data-path="../apple/iOS/VFL.html">
            
                <a href="../apple/iOS/VFL.html">
            
                    
                    VFL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.43" data-path="../apple/iOS/WKWebView.html">
            
                <a href="../apple/iOS/WKWebView.html">
            
                    
                    WKWebView
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.44" data-path="../apple/iOS/class-dump.html">
            
                <a href="../apple/iOS/class-dump.html">
            
                    
                    class-dump
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.45" data-path="../apple/iOS/iOS Instruments.html">
            
                <a href="../apple/iOS/iOS Instruments.html">
            
                    
                    iOS Instruments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.46" data-path="../apple/iOS/iOS Mach-O加载过程.html">
            
                <a href="../apple/iOS/iOS Mach-O加载过程.html">
            
                    
                    iOS Mach-O加载过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.47" data-path="../apple/iOS/iOS 开发.html">
            
                <a href="../apple/iOS/iOS 开发.html">
            
                    
                    iOS 开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.48" data-path="../apple/iOS/iOS 测试.html">
            
                <a href="../apple/iOS/iOS 测试.html">
            
                    
                    iOS 测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.49" data-path="../apple/iOS/iOS 更新日志.html">
            
                <a href="../apple/iOS/iOS 更新日志.html">
            
                    
                    iOS 更新日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.50" data-path="../apple/iOS/iOS 多行字符串常量.html">
            
                <a href="../apple/iOS/iOS 多行字符串常量.html">
            
                    
                    iOS 多行字符串常量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.51" data-path="../apple/iOS/iOS&Android 使用对比.html">
            
                <a href="../apple/iOS/iOS&Android 使用对比.html">
            
                    
                    iOS&Android 使用对比
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.52" data-path="../apple/iOS/os_signpost.html">
            
                <a href="../apple/iOS/os_signpost.html">
            
                    
                    os_signpost
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.53" data-path="../apple/iOS/swizzle.html">
            
                <a href="../apple/iOS/swizzle.html">
            
                    
                    swizzle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.54" data-path="../apple/iOS/valueForKeyPath.html">
            
                <a href="../apple/iOS/valueForKeyPath.html">
            
                    
                    valueForKeyPath
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.55" data-path="../apple/iOS/weak底层实现.html">
            
                <a href="../apple/iOS/weak底层实现.html">
            
                    
                    weak底层实现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.56" data-path="../apple/iOS/weex.html">
            
                <a href="../apple/iOS/weex.html">
            
                    
                    weex
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.57" data-path="../apple/iOS/库.html">
            
                <a href="../apple/iOS/库.html">
            
                    
                    库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.58" data-path="../apple/iOS/将macro移除pch.html">
            
                <a href="../apple/iOS/将macro移除pch.html">
            
                    
                    将macro移除pch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.59" data-path="../apple/iOS/死锁.html">
            
                <a href="../apple/iOS/死锁.html">
            
                    
                    死锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.60" data-path="../apple/iOS/越狱.html">
            
                <a href="../apple/iOS/越狱.html">
            
                    
                    越狱
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.61" data-path="../apple/iOS/使用WKWebView加载长图.html">
            
                <a href="../apple/iOS/使用WKWebView加载长图.html">
            
                    
                    使用WKWebView加载长图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.62" data-path="../apple/iOS/清理webview缓存.html">
            
                <a href="../apple/iOS/清理webview缓存.html">
            
                    
                    清理webview缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.63" data-path="../apple/iOS/中间件.html">
            
                <a href="../apple/iOS/中间件.html">
            
                    
                    中间件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.64" data-path="../apple/iOS/多线程.html">
            
                <a href="../apple/iOS/多线程.html">
            
                    
                    多线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.65" data-path="../apple/iOS/版本号.html">
            
                <a href="../apple/iOS/版本号.html">
            
                    
                    版本号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.66" data-path="../apple/iOS/符号表.html">
            
                <a href="../apple/iOS/符号表.html">
            
                    
                    符号表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.67" data-path="../apple/iOS/读写锁.html">
            
                <a href="../apple/iOS/读写锁.html">
            
                    
                    读写锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.68" data-path="../apple/iOS/运行时.html">
            
                <a href="../apple/iOS/运行时.html">
            
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.69" data-path="../apple/iOS/音视频.html">
            
                <a href="../apple/iOS/音视频.html">
            
                    
                    音视频
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.70" data-path="../apple/iOS/自定义present动画.html">
            
                <a href="../apple/iOS/自定义present动画.html">
            
                    
                    自定义present动画
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.71" data-path="../apple/iOS/自定义push & pop 动画.html">
            
                <a href="../apple/iOS/自定义push & pop 动画.html">
            
                    
                    自定义push & pop 动画
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.72" data-path="../apple/iOS/信鸽推送.html">
            
                <a href="../apple/iOS/信鸽推送.html">
            
                    
                    信鸽推送
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.73" data-path="../apple/iOS/内存管理.html">
            
                <a href="../apple/iOS/内存管理.html">
            
                    
                    内存管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.74" data-path="../apple/iOS/单元测试.html">
            
                <a href="../apple/iOS/单元测试.html">
            
                    
                    单元测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.75" data-path="../apple/iOS/性能优化.html">
            
                <a href="../apple/iOS/性能优化.html">
            
                    
                    性能优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.76" data-path="../apple/iOS/方法查找.html">
            
                <a href="../apple/iOS/方法查找.html">
            
                    
                    方法查找
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.77" data-path="../apple/iOS/符号断点.html">
            
                <a href="../apple/iOS/符号断点.html">
            
                    
                    符号断点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.78" data-path="../apple/iOS/编译过程.html">
            
                <a href="../apple/iOS/编译过程.html">
            
                    
                    编译过程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.79" data-path="../apple/iOS/面试总结.html">
            
                <a href="../apple/iOS/面试总结.html">
            
                    
                    面试总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.80" data-path="../apple/iOS/应用重签名.html">
            
                <a href="../apple/iOS/应用重签名.html">
            
                    
                    应用重签名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.81" data-path="../apple/iOS/观察者模式.html">
            
                <a href="../apple/iOS/观察者模式.html">
            
                    
                    观察者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.82" data-path="../apple/iOS/修改类的前缀.html">
            
                <a href="../apple/iOS/修改类的前缀.html">
            
                    
                    修改类的前缀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.83" data-path="../apple/iOS/屏幕旋转问题.html">
            
                <a href="../apple/iOS/屏幕旋转问题.html">
            
                    
                    屏幕旋转问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.84" data-path="../apple/iOS/应用程序状态.html">
            
                <a href="../apple/iOS/应用程序状态.html">
            
                    
                    应用程序状态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.85" data-path="../apple/iOS/为什么要使用RAC.html">
            
                <a href="../apple/iOS/为什么要使用RAC.html">
            
                    
                    为什么要使用RAC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.86" data-path="../apple/iOS/代码自动生成工具.html">
            
                <a href="../apple/iOS/代码自动生成工具.html">
            
                    
                    代码自动生成工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.87" data-path="../apple/iOS/简单的前端编译器.html">
            
                <a href="../apple/iOS/简单的前端编译器.html">
            
                    
                    简单的前端编译器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.88" data-path="../apple/iOS/系统自带分享机制.html">
            
                <a href="../apple/iOS/系统自带分享机制.html">
            
                    
                    系统自带分享机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.89" data-path="../apple/iOS/触摸事件响应机制.html">
            
                <a href="../apple/iOS/触摸事件响应机制.html">
            
                    
                    触摸事件响应机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.90" data-path="../apple/iOS/项目编译时间优化.html">
            
                <a href="../apple/iOS/项目编译时间优化.html">
            
                    
                    项目编译时间优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.91" data-path="../apple/iOS/编码方式文件封装格式.html">
            
                <a href="../apple/iOS/编码方式文件封装格式.html">
            
                    
                    编码方式文件封装格式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../apple/iOS.html">
            
                <a href="../apple/iOS.html">
            
                    
                    iOS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../base/">
            
                <a href="../base/">
            
                    
                    base
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../base/MVC.html">
            
                <a href="../base/MVC.html">
            
                    
                    MVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../base/MVP.html">
            
                <a href="../base/MVP.html">
            
                    
                    MVP
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../base/git.html">
            
                <a href="../base/git.html">
            
                    
                    git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../base/命名.html">
            
                <a href="../base/命名.html">
            
                    
                    命名
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../base/数据结构.html">
            
                <a href="../base/数据结构.html">
            
                    
                    数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../base/策略模式.html">
            
                <a href="../base/策略模式.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../base/算法总结.html">
            
                <a href="../base/算法总结.html">
            
                    
                    算法总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../base/编程范式.html">
            
                <a href="../base/编程范式.html">
            
                    
                    编程范式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../base/中介者模式.html">
            
                <a href="../base/中介者模式.html">
            
                    
                    中介者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../base/批判性思维.html">
            
                <a href="../base/批判性思维.html">
            
                    
                    批判性思维
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../base/变和不变的思考.html">
            
                <a href="../base/变和不变的思考.html">
            
                    
                    变和不变的思考
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    elk
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.1" data-path="elk.html">
            
                <a href="elk.html">
            
                    
                    elk
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../flutter/">
            
                <a href="../flutter/">
            
                    
                    flutter
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../flutter/Flutter.html">
            
                <a href="../flutter/Flutter.html">
            
                    
                    Flutter
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../java/">
            
                <a href="../java/">
            
                    
                    java
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../java/GC.html">
            
                <a href="../java/GC.html">
            
                    
                    GC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../java/SpringBoot.html">
            
                <a href="../java/SpringBoot.html">
            
                    
                    SpringBoot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../java/maven.html">
            
                <a href="../java/maven.html">
            
                    
                    maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../java/mybatis.html">
            
                <a href="../java/mybatis.html">
            
                    
                    mybatis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../java/shiro.html">
            
                <a href="../java/shiro.html">
            
                    
                    shiro
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../java/服务器.html">
            
                <a href="../java/服务器.html">
            
                    
                    服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../java/执行脚本.html">
            
                <a href="../java/执行脚本.html">
            
                    
                    执行脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="../java/时间转换.html">
            
                <a href="../java/时间转换.html">
            
                    
                    时间转换
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../mysql/">
            
                <a href="../mysql/">
            
                    
                    mysql
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../mysql/MySQL.html">
            
                <a href="../mysql/MySQL.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../other/">
            
                <a href="../other/">
            
                    
                    other
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../other/2018-10-08-香港.html">
            
                <a href="../other/2018-10-08-香港.html">
            
                    
                    2018-10-08-香港
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../other/MongoDB.html">
            
                <a href="../other/MongoDB.html">
            
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../other/Sublime.html">
            
                <a href="../other/Sublime.html">
            
                    
                    Sublime
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../other/Tensorflow.html">
            
                <a href="../other/Tensorflow.html">
            
                    
                    Tensorflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../other/django获取上传文件.html">
            
                <a href="../other/django获取上传文件.html">
            
                    
                    django获取上传文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../other/gitbook.html">
            
                <a href="../other/gitbook.html">
            
                    
                    gitbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../other/方法.html">
            
                <a href="../other/方法.html">
            
                    
                    方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../other/汇编.html">
            
                <a href="../other/汇编.html">
            
                    
                    汇编
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../other/驾考.html">
            
                <a href="../other/驾考.html">
            
                    
                    驾考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="../other/依赖注入.html">
            
                <a href="../other/依赖注入.html">
            
                    
                    依赖注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="../other/工厂模式.html">
            
                <a href="../other/工厂模式.html">
            
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="../other/效率提升.html">
            
                <a href="../other/效率提升.html">
            
                    
                    效率提升
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" data-path="../other/策略模式.html">
            
                <a href="../other/策略模式.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.14" data-path="../other/编程范式.html">
            
                <a href="../other/编程范式.html">
            
                    
                    编程范式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.15" data-path="../other/编译原理.html">
            
                <a href="../other/编译原理.html">
            
                    
                    编译原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.16" data-path="../other/金字塔原理.html">
            
                <a href="../other/金字塔原理.html">
            
                    
                    金字塔原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.17" data-path="../other/脚本生成代码.html">
            
                <a href="../other/脚本生成代码.html">
            
                    
                    脚本生成代码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.18" data-path="../other/变和不变的思考.html">
            
                <a href="../other/变和不变的思考.html">
            
                    
                    变和不变的思考
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../shell/">
            
                <a href="../shell/">
            
                    
                    shell
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../shell/Apple Script入门.html">
            
                <a href="../shell/Apple Script入门.html">
            
                    
                    Apple Script入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../shell/AppleScript操作其他应用.html">
            
                <a href="../shell/AppleScript操作其他应用.html">
            
                    
                    AppleScript操作其他应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../shell/Automator导入头文件.html">
            
                <a href="../shell/Automator导入头文件.html">
            
                    
                    Automator导入头文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../shell/Mac Oh-My-Zsh.html">
            
                <a href="../shell/Mac Oh-My-Zsh.html">
            
                    
                    Mac Oh-My-Zsh
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../shell/Mac定时任务.html">
            
                <a href="../shell/Mac定时任务.html">
            
                    
                    Mac定时任务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="../shell/Shell JSON解析.html">
            
                <a href="../shell/Shell JSON解析.html">
            
                    
                    Shell JSON解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../shell/SpringBoot.html">
            
                <a href="../shell/SpringBoot.html">
            
                    
                    SpringBoot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../shell/awk.html">
            
                <a href="../shell/awk.html">
            
                    
                    awk
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="../shell/cp.html">
            
                <a href="../shell/cp.html">
            
                    
                    cp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="../shell/curl.html">
            
                <a href="../shell/curl.html">
            
                    
                    curl
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.11" data-path="../shell/date.html">
            
                <a href="../shell/date.html">
            
                    
                    date
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.12" data-path="../shell/grep.html">
            
                <a href="../shell/grep.html">
            
                    
                    grep
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.13" data-path="../shell/sed.html">
            
                <a href="../shell/sed.html">
            
                    
                    sed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.14" data-path="../shell/shell.html">
            
                <a href="../shell/shell.html">
            
                    
                    shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.15" data-path="../shell/shell入门.html">
            
                <a href="../shell/shell入门.html">
            
                    
                    shell入门
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.16" data-path="../shell/shell脚本在 iOS 中的应用.html">
            
                <a href="../shell/shell脚本在 iOS 中的应用.html">
            
                    
                    shell脚本在 iOS 中的应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.17" data-path="../shell/svn命令行使用.html">
            
                <a href="../shell/svn命令行使用.html">
            
                    
                    svn命令行使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.18" data-path="../shell/文件.html">
            
                <a href="../shell/文件.html">
            
                    
                    文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.19" data-path="../shell/字符串.html">
            
                <a href="../shell/字符串.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.20" data-path="../shell/使用脚本更新gitbook目录.html">
            
                <a href="../shell/使用脚本更新gitbook目录.html">
            
                    
                    使用脚本更新gitbook目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.21" data-path="../shell/代码自动生成工具.html">
            
                <a href="../shell/代码自动生成工具.html">
            
                    
                    代码自动生成工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.22" data-path="../shell/判断命令是否存在.html">
            
                <a href="../shell/判断命令是否存在.html">
            
                    
                    判断命令是否存在
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../tool/">
            
                <a href="../tool/">
            
                    
                    tool
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../tool/Charles.html">
            
                <a href="../tool/Charles.html">
            
                    
                    Charles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../tool/Sublime Text.html">
            
                <a href="../tool/Sublime Text.html">
            
                    
                    Sublime Text
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../web/">
            
                <a href="../web/">
            
                    
                    web
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../web/ElementUI.html">
            
                <a href="../web/ElementUI.html">
            
                    
                    ElementUI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../web/HTML.html">
            
                <a href="../web/HTML.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../web/JavaScript.html">
            
                <a href="../web/JavaScript.html">
            
                    
                    JavaScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../web/Ngrok 反向代理.html">
            
                <a href="../web/Ngrok 反向代理.html">
            
                    
                    Ngrok 反向代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="../web/Vue.html">
            
                <a href="../web/Vue.html">
            
                    
                    Vue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="../web/Web.html">
            
                <a href="../web/Web.html">
            
                    
                    Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.7" data-path="../web/echarts.html">
            
                <a href="../web/echarts.html">
            
                    
                    echarts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >elk</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><ul><li><span class="title-icon "></span><a href="#&#x672F;&#x8BED;"><b></b>&#x672F;&#x8BED;</a></li><ul><li><span class="title-icon "></span><a href="#&#x96C6;&#x7FA4;-cluster"><b></b>&#x96C6;&#x7FA4; Cluster</a></li><li><span class="title-icon "></span><a href="#&#x8282;&#x70B9;-node"><b></b>&#x8282;&#x70B9; Node</a></li><li><span class="title-icon "></span><a href="#&#x7D22;&#x5F15;-index"><b></b>&#x7D22;&#x5F15; Index</a></li><li><span class="title-icon "></span><a href="#&#x5206;&#x7247;-shard"><b></b>&#x5206;&#x7247; Shard</a></li><li><span class="title-icon "></span><a href="#&#x526F;&#x672C;-replica"><b></b>&#x526F;&#x672C; Replica</a></li><li><span class="title-icon "></span><a href="#&#x6620;&#x5C04;-mapping"><b></b>&#x6620;&#x5C04; Mapping</a></li><li><span class="title-icon "></span><a href="#refresh"><b></b>Refresh</a></li><li><span class="title-icon "></span><a href="#flush"><b></b>Flush</a></li><li><span class="title-icon "></span><a href="#translog"><b></b>Translog</a></li></ul><li><span class="title-icon "></span><a href="#&#x6027;&#x80FD;&#x6570;&#x636E;"><b></b>&#x6027;&#x80FD;&#x6570;&#x636E;</a></li><li><span class="title-icon "></span><a href="#&#x6570;&#x636E;&#x7C7B;&#x578B;"><b></b>&#x6570;&#x636E;&#x7C7B;&#x578B;</a></li><ul><li><span class="title-icon "></span><a href="#keyword-vs-text"><b></b>keyword VS text</a></li></ul><li><span class="title-icon "></span><a href="#routing"><b></b>Routing</a></li><li><span class="title-icon "></span><a href="#index"><b></b>index</a></li><li><span class="title-icon "></span><a href="#&#x5E38;&#x89C1;&#x95EE;&#x9898;"><b></b>&#x5E38;&#x89C1;&#x95EE;&#x9898;</a></li><li><span class="title-icon "></span><a href="#aggs"><b></b>Aggs</a></li><ul><li><span class="title-icon "></span><a href="#&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;"><b></b>&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;</a></li><li><span class="title-icon "></span><a href="#aggtype"><b></b>agg_type</a></li></ul><li><span class="title-icon "></span><a href="#&#x67E5;&#x627E;"><b></b>&#x67E5;&#x627E;</a></li><ul><li><span class="title-icon "></span><a href="#term"><b></b>term</a></li><li><span class="title-icon "></span><a href="#match"><b></b>match</a></li><li><span class="title-icon "></span><a href="#range-&#x8303;&#x56F4;&#x68C0;&#x7D22;"><b></b>range &#x8303;&#x56F4;&#x68C0;&#x7D22;</a></li><li><span class="title-icon "></span><a href="#exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;"><b></b>exists &#x5B58;&#x5728;&#x67E5;&#x8BE2;</a></li></ul><li><span class="title-icon "></span><a href="#prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;"><b></b>prefix &#x524D;&#x7F00;&#x67E5;&#x8BE2;</a></li><ul><li><span class="title-icon "></span><a href="#regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;"><b></b>regexp &#x6B63;&#x5219;&#x67E5;&#x8BE2;</a></li><li><span class="title-icon "></span><a href="#wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;"><b></b>wildcard &#x6A21;&#x7CCA;&#x5339;&#x914D;</a></li><li><span class="title-icon "></span><a href="#matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;"><b></b>match_phrase &#x77ED;&#x8BED;&#x5339;&#x914D;</a></li><li><span class="title-icon "></span><a href="#&#x5206;&#x9875;&#x67E5;&#x8BE2;"><b></b>&#x5206;&#x9875;&#x67E5;&#x8BE2;</a></li><li><span class="title-icon "></span><a href="#scroll&#x67E5;&#x8BE2;"><b></b>scroll&#x67E5;&#x8BE2;</a></li></ul><li><span class="title-icon "></span><a href="#&#x66F4;&#x65B0;"><b></b>&#x66F4;&#x65B0;</a></li><ul><li><span class="title-icon "></span><a href="#update"><b></b>_update</a></li><li><span class="title-icon "></span><a href="#updatebyquery"><b></b>_update_by_query</a></li></ul><li><span class="title-icon "></span><a href="#&#x5B9E;&#x6218;"><b></b>&#x5B9E;&#x6218;</a></li><li><span class="title-icon "></span><a href="#&#x6784;&#x67B6;"><b></b>&#x6784;&#x67B6;</a></li><li><span class="title-icon "></span><a href="#nested"><b></b>Nested</a></li><ul><li><span class="title-icon "></span><a href="#&#x9650;&#x5236;"><b></b>&#x9650;&#x5236;</a></li></ul><li><span class="title-icon "></span><a href="#join-field-type"><b></b>Join field type</a></li><ul><li><span class="title-icon "></span><a href="#haschild"><b></b>has_child</a></li><li><span class="title-icon "></span><a href="#hasparent"><b></b>has_parent</a></li><li><span class="title-icon "></span><a href="#&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;"><b></b>&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;</a></li><li><span class="title-icon "></span><a href="#&#x67E5;&#x8BE2;"><b></b>&#x67E5;&#x8BE2;</a></li><li><span class="title-icon "></span><a href="#&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><b></b>&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;</a></li><li><span class="title-icon "></span><a href="#&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><b></b>&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5206;&#x8BCD;"><b></b>&#x5206;&#x8BCD;</a></li><ul><li><span class="title-icon "></span><a href="#&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;"><b></b>&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;</a></li><li><span class="title-icon "></span><a href="#&#x4E2D;&#x6587;&#x5206;&#x8BCD;"><b></b>&#x4E2D;&#x6587;&#x5206;&#x8BCD;</a></li><li><span class="title-icon "></span><a href="#&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;"><b></b>&#x6DFB;&#x52A0; keyword &#x5B57;&#x6BB5;</a></li></ul><li><span class="title-icon "></span><a href="#filter_1"><b></b>Filter</a></li><ul><li><span class="title-icon "></span><a href="#query-filter"><b></b>query filter</a></li><li><span class="title-icon "></span><a href="#bucket-filter"><b></b>bucket filter</a></li><li><span class="title-icon "></span><a href="#post-filter"><b></b>post filter</a></li></ul><li><span class="title-icon "></span><a href="#&#x90E8;&#x7F72;"><b></b>&#x90E8;&#x7F72;</a></li><ul><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;-elastic"><b></b>&#x5B89;&#x88C5; elastic</a></li><li><span class="title-icon "></span><a href="#&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;"><b></b>&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;</a></li></ul><li><span class="title-icon "></span><a href="#&#x5E76;&#x53D1;"><b></b>&#x5E76;&#x53D1;</a></li><li><span class="title-icon "></span><a href="#&#x6BB5;"><b></b>&#x6BB5;</a></li><ul><li><span class="title-icon "></span><a href="#&#x6BB5;&#x5408;&#x5E76;"><b></b>&#x6BB5;&#x5408;&#x5E76;</a></li></ul><li><span class="title-icon "></span><a href="#translog_1"><b></b>Translog</a></li><li><span class="title-icon "></span><a href="#refresh_1"><b></b>Refresh</a></li><li><span class="title-icon "></span><a href="#spring-data-elasticsearch"><b></b>spring data elasticsearch</a></li><ul><li><span class="title-icon "></span><a href="#ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;"><b></b>ignoreAbove &#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A; text &#x7684; field&#xFF0C;&#x5BFC;&#x81F4; analyzer &#x8BBE;&#x7F6E;&#x5931;&#x8D25;</a></li><li><span class="title-icon "></span><a href="#mapping"><b></b>@Mapping</a></li></ul><li><span class="title-icon "></span><a href="#lucene"><b></b>lucene</a></li></ul></ul></div><a href="#" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p>elk</p>
<p>[TOC]</p>
<h2 id="&#x672F;&#x8BED;"><a name="&#x672F;&#x8BED;" class="anchor-navigation-ex-anchor" href="#&#x672F;&#x8BED;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x672F;&#x8BED;" class="plugin-anchor" href="#&#x672F;&#x8BED;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x672F;&#x8BED;</h2>
<h3 id="&#x96C6;&#x7FA4;-cluster"><a name="&#x96C6;&#x7FA4;-cluster" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x7FA4;-cluster"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x96C6;&#x7FA4;-cluster" class="plugin-anchor" href="#&#x96C6;&#x7FA4;-cluster"><i class="fa fa-link" aria-hidden="true"></i></a>&#x96C6;&#x7FA4; Cluster</h3>
<p>&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x3002;</p>
<h3 id="&#x8282;&#x70B9;-node"><a name="&#x8282;&#x70B9;-node" class="anchor-navigation-ex-anchor" href="#&#x8282;&#x70B9;-node"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x8282;&#x70B9;-node" class="plugin-anchor" href="#&#x8282;&#x70B9;-node"><i class="fa fa-link" aria-hidden="true"></i></a>&#x8282;&#x70B9; Node</h3>
<p>&#x5355;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5E76;&#x53C2;&#x4E0E;&#x96C6;&#x7FA4;&#x7684;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x8282;&#x70B9;&#x9ED8;&#x8BA4;&#x52A0;&#x5165;&#x5230;&#x540D;&#x4E3A; elasticsearch &#x7684;&#x96C6;&#x7FA4;&#xFF0C;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x4F1A;&#x81EA;&#x52A8;&#x7EC4;&#x5EFA;&#x96C6;&#x7FA4;&#x3002;</p>
<h3 id="&#x7D22;&#x5F15;-index"><a name="&#x7D22;&#x5F15;-index" class="anchor-navigation-ex-anchor" href="#&#x7D22;&#x5F15;-index"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x7D22;&#x5F15;-index" class="plugin-anchor" href="#&#x7D22;&#x5F15;-index"><i class="fa fa-link" aria-hidden="true"></i></a>&#x7D22;&#x5F15; Index</h3>
<p>&#x67E5;&#x770B;&#x7D22;&#x5F15;&#x4FE1;&#x606F;</p>
<pre><code>GET /test-loginfo/


...
&quot;settings&quot; : {
  &quot;index&quot; : {
    &quot;routing&quot; : {
      &quot;allocation&quot; : {
        &quot;include&quot; : {
          &quot;_tier_preference&quot; : &quot;data_content&quot;
        }
      }
    },
    &quot;number_of_shards&quot; : &quot;1&quot;,
    &quot;provided_name&quot; : &quot;test-loginfo&quot;,
    &quot;creation_date&quot; : &quot;1625213950732&quot;,
    &quot;number_of_replicas&quot; : &quot;1&quot;,
    &quot;uuid&quot; : &quot;Nr0T5FTgRd6GX75WR51KPw&quot;,
    &quot;version&quot; : {
      &quot;created&quot; : &quot;7130299&quot;
    }
  }
}
...
</code></pre><h3 id="&#x5206;&#x7247;-shard"><a name="&#x5206;&#x7247;-shard" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x7247;-shard"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x7247;-shard" class="plugin-anchor" href="#&#x5206;&#x7247;-shard"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x7247; Shard</h3>
<p>ES&#x9ED8;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x521B;&#x5EFA;5&#x4E2A;&#x4E3B;&#x5206;&#x7247;, &#x5E76;&#x5206;&#x522B;&#x4E3A;&#x5176;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x5206;&#x7247;&#x3002;&#xFF08;10&#x4E2A;&#x5206;&#x7247;&#xFF09;</p>
<p>&#x4E3B;&#x5206;&#x7247;&#x7684;&#x6570;&#x76EE;&#x5728;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x65F6;&#x5C31;&#x5DF2;&#x7ECF;&#x786E;&#x5B9A;&#x4E86;&#x4E0B;&#x6765;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x8FD9;&#x4E2A;&#x6570;&#x76EE;&#x5B9A;&#x4E49;&#x4E86;&#x8FD9;&#x4E2A;&#x7D22;&#x5F15;&#x80FD;&#x591F; <em>&#x5B58;&#x50A8;</em> &#x7684;&#x6700;&#x5927;&#x6570;&#x636E;&#x91CF;&#x3002;&#xFF08;&#x5B9E;&#x9645;&#x5927;&#x5C0F;&#x53D6;&#x51B3;&#x4E8E;&#x4F60;&#x7684;&#x6570;&#x636E;&#x3001;&#x786C;&#x4EF6;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F;&#x3002;&#xFF09;</p>
<pre><code>GET /v2-loginfo/_search_shards
</code></pre><ul>
<li><p>&#x5BF9;&#x4E8E;&#x591A;&#x5927;&#x7684;&#x5206;&#x7247;&#x6CA1;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4F46;&#x662F;<strong>&#x5206;&#x7247;&#x5927;&#x5C0F;&#x4E3A;50GB&#x901A;&#x5E38;&#x88AB;&#x754C;&#x5B9A;&#x4E3A;&#x9002;&#x7528;&#x4E8E;&#x5404;&#x79CD;&#x7528;&#x4F8B;&#x7684;&#x9650;&#x5236;</strong>&#x3002;</p>
</li>
<li><p>&#x60A8;&#x53EF;&#x4EE5;&#x5728;&#x96C6;&#x7FA4;&#x8282;&#x70B9;&#x4E0A;&#x4FDD;&#x5B58;&#x7684;&#x5206;&#x7247;&#x6570;&#x91CF;&#x4E0E;&#x60A8;&#x53EF;&#x7528;&#x7684;&#x5806;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#x6210;&#x6B63;&#x6BD4;&#xFF0C;&#x4F46;&#x8FD9;&#x5728;Elasticsearch&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#x56FA;&#x5B9A;&#x9650;&#x5236;&#x3002; &#x4E00;&#x4E2A;&#x5F88;&#x597D;&#x7684;&#x7ECF;&#x9A8C;&#x6CD5;&#x5219;&#x662F;&#xFF1A;&#x786E;&#x4FDD;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x5206;&#x7247;&#x6570;&#x91CF;&#x4FDD;&#x6301;&#x5728;&#x4F4E;&#x4E8E;<strong>&#x6BCF;1GB&#x5806;&#x5185;&#x5B58;&#x5BF9;&#x5E94;&#x96C6;&#x7FA4;&#x7684;&#x5206;&#x7247;&#x5728;20-25&#x4E4B;&#x95F4;</strong>&#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5177;&#x6709;30GB&#x5806;&#x5185;&#x5B58;&#x7684;&#x8282;&#x70B9;&#x6700;&#x591A;&#x53EF;&#x4EE5;&#x6709;600-750&#x4E2A;&#x5206;&#x7247;&#xFF0C;&#x4F46;&#x662F;&#x8FDB;&#x4E00;&#x6B65;&#x4F4E;&#x4E8E;&#x6B64;&#x9650;&#x5236;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x4FDD;&#x6301;&#x66F4;&#x597D;&#x3002; &#x8FD9;&#x901A;&#x5E38;&#x4F1A;&#x5E2E;&#x52A9;&#x7FA4;&#x4F53;&#x4FDD;&#x6301;&#x5904;&#x4E8E;&#x5065;&#x5EB7;&#x72B6;&#x6001;&#x3002;</p>
</li>
<li><p>&#x5F53;&#x5728;ElasticSearch&#x96C6;&#x7FA4;&#x4E2D;&#x914D;&#x7F6E;&#x597D;&#x4F60;&#x7684;&#x7D22;&#x5F15;&#x540E;, &#x4F60;&#x8981;&#x660E;&#x767D;&#x5728;&#x96C6;&#x7FA4;&#x8FD0;&#x884C;&#x4E2D;&#x4F60;&#x65E0;&#x6CD5;&#x8C03;&#x6574;&#x5206;&#x7247;&#x8BBE;&#x7F6E;. &#x65E2;&#x4FBF;&#x4EE5;&#x540E;&#x4F60;&#x53D1;&#x73B0;&#x9700;&#x8981;&#x8C03;&#x6574;&#x5206;&#x7247;&#x6570;&#x91CF;, &#x4F60;&#x4E5F;&#x53EA;&#x80FD;&#x65B0;&#x5EFA;&#x521B;&#x5EFA;&#x5E76;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x7D22;&#x5F15;(reindex)(&#x867D;&#x7136;reindex&#x4F1A;&#x6BD4;&#x8F83;&#x8017;&#x65F6;, &#x4F46;&#x81F3;&#x5C11;&#x80FD;&#x4FDD;&#x8BC1;&#x4F60;&#x4E0D;&#x4F1A;&#x505C;&#x673A;).</p>
</li>
</ul>
<p>&#x5206;&#x7247;&#x662F;&#x9488;&#x5BF9; Index &#x7684;&#x3002;Index &#x53EF;&#x4EE5;&#x88AB;&#x62C6;&#x5206;&#x4E3A;&#x591A;&#x4E2A;&#x5206;&#x7247;&#xFF0C;&#x5206;&#x7247;&#x53EF;&#x4EE5;&#x4F4D;&#x4E8E;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4EFB;&#x610F;&#x8282;&#x70B9;&#x4E0A;&#x3002;</p>
<p>&#x67E5;&#x8BE2; Index &#x7684;&#x6570;&#x636E;&#x7B49;&#x4E8E;&#x5148;&#x67E5;&#x8BE2; Index &#x6240;&#x6709;&#x5206;&#x7247;&#x4E0A;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6C47;&#x603B;&#x3002;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BA1;&#x7B97;&#x5B9E;&#x9645;&#x88AB;&#x62C6;&#x5206;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x4F1A;&#x5E26;&#x6765;&#x4E00;&#x4E9B;&#x65B0;&#x7684;&#x95EE;&#x9898;&#x3002;&#x67E5;&#x8BE2;100&#x6761;&#x6570;&#x636E;&#x662F;&#x5728;&#x6BCF;&#x4E2A;&#x5206;&#x7247;&#x4E0A;&#x67E5;&#x627E;100&#x6761;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x6C47;&#x603B;&#x6392;&#x5E8F;&#x8FD4;&#x56DE;100&#x6761;&#x6570;&#x636E;&#x3002;&#x5B9E;&#x9645;&#x67E5;&#x51FA;&#x7684;&#x6570;&#x636E;&#x91CF;&#x662F; 100 * &#x5206;&#x7247;&#x6570;&#x91CF;&#x3002;</p>
<h3 id="&#x526F;&#x672C;-replica"><a name="&#x526F;&#x672C;-replica" class="anchor-navigation-ex-anchor" href="#&#x526F;&#x672C;-replica"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x526F;&#x672C;-replica" class="plugin-anchor" href="#&#x526F;&#x672C;-replica"><i class="fa fa-link" aria-hidden="true"></i></a>&#x526F;&#x672C; Replica</h3>
<p>ES&#x9ED8;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x521B;&#x5EFA;5&#x4E2A;&#x4E3B;&#x5206;&#x7247;, &#x5E76;&#x5206;&#x522B;&#x4E3A;&#x5176;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x5206;&#x7247;. &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x90FD;&#x7531;5&#x4E2A;&#x4E3B;&#x5206;&#x7247;&#x6210;&#x672C;, &#x800C;&#x6BCF;&#x4E2A;&#x4E3B;&#x5206;&#x7247;&#x90FD;&#x76F8;&#x5E94;&#x7684;&#x6709;&#x4E00;&#x4E2A;copy.</p>
<h3 id="&#x6620;&#x5C04;-mapping"><a name="&#x6620;&#x5C04;-mapping" class="anchor-navigation-ex-anchor" href="#&#x6620;&#x5C04;-mapping"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6620;&#x5C04;-mapping" class="plugin-anchor" href="#&#x6620;&#x5C04;-mapping"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6620;&#x5C04; Mapping</h3>
<p>mapping &#x662F;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x5305;&#x542B;&#x54EA;&#x4E9B;&#x5B57;&#x6BB5;&#x3001;&#x5982;&#x4F55;&#x5B58;&#x50A8;&#x548C;&#x7D22;&#x5F15;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p>
<p><code>GET /loginfo/_mapping</code></p>
<p>_mapping &#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x5B57;&#x6BB5;&#xFF0C;&#x4F46;&#x662F;&#x5DF2;&#x6709;&#x5B57;&#x6BB5;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7C7B;&#x578B;&#x3002;</p>
<h3 id="refresh"><a name="refresh" class="anchor-navigation-ex-anchor" href="#refresh"><i class="fa fa-link" aria-hidden="true"></i></a><a name="refresh" class="plugin-anchor" href="#refresh"><i class="fa fa-link" aria-hidden="true"></i></a>Refresh</h3>
<p>&#x8282;&#x70B9;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x4F1A;&#x5C06;&#x8BF7;&#x6C42;&#x5199;&#x5165;&#x5230; Memory Buffer,&#x7136;&#x540E;&#x5B9A;&#x65F6;&#xFF08;&#x9ED8;&#x8BA4;&#x662F;&#x6BCF;&#x9694;1&#x79D2;&#xFF09;&#x5199;&#x5165;&#x5230; Filesystem Cache,&#x8FD9;&#x4E2A;&#x4ECE;MomeryBuffer&#x5230; Filesystem Cache &#x7684;&#x8FC7;&#x7A0B;&#x79F0;&#x4E4B;&#x4E3A;refresh</p>
<h3 id="flush"><a name="flush" class="anchor-navigation-ex-anchor" href="#flush"><i class="fa fa-link" aria-hidden="true"></i></a><a name="flush" class="plugin-anchor" href="#flush"><i class="fa fa-link" aria-hidden="true"></i></a>Flush</h3>
<h3 id="translog"><a name="translog" class="anchor-navigation-ex-anchor" href="#translog"><i class="fa fa-link" aria-hidden="true"></i></a><a name="translog" class="plugin-anchor" href="#translog"><i class="fa fa-link" aria-hidden="true"></i></a>Translog</h3>
<h2 id="&#x6027;&#x80FD;&#x6570;&#x636E;"><a name="&#x6027;&#x80FD;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x6027;&#x80FD;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6027;&#x80FD;&#x6570;&#x636E;" class="plugin-anchor" href="#&#x6027;&#x80FD;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6027;&#x80FD;&#x6570;&#x636E;</h2>
<p><a href="https://cloud.tencent.com/document/product/845/55185" target="_blank">https://cloud.tencent.com/document/product/845/55185</a></p>
<h2 id="&#x6570;&#x636E;&#x7C7B;&#x578B;"><a name="&#x6570;&#x636E;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x6570;&#x636E;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6570;&#x636E;&#x7C7B;&#x578B;" class="plugin-anchor" href="#&#x6570;&#x636E;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6570;&#x636E;&#x7C7B;&#x578B;</h2>
<h4 id="&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;"><a name="&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;" class="plugin-anchor" href="#&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;</h4>
<ul>
<li>keyword &#x5B57;&#x6BB5;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x8BCD;</li>
<li>text &#x5B57;&#x6BB5;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x8BCD;</li>
</ul>
<pre><code>// &#x5143;&#x6570;&#x636E;
{
    &quot;sessionID&quot; : &quot;84eaea57-3d9d-4b7a-a464-2d9497ac0922&quot;
}

// &#x5982;&#x679C; sessionID &#x7684;&#x7C7B;&#x578B;&#x662F; keyword ,&#x90A3;&#x4E0B;&#x9762;&#x7684;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#xFF0C;&#x5982;&#x679C;&#x662F; text &#x90A3;&#x5C31;&#x627E;&#x4E0D;&#x5230;&#x3002;&#x56E0;&#x4E3A; text &#x4F1A;&#x88AB;&#x5206;&#x8BCD;&#x5668;&#x5206;&#x8BCD;
// [84eaea57 3d9d 4b7a a464 2d9497ac0922]

GET /t-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;sessionID&quot; : {
        &quot;value&quot;: &quot;84eaea57-3d9d-4b7a-a464-2d9497ac0922&quot;
      }
    }
  }
}
</code></pre><h3 id="keyword-vs-text"><a name="keyword-vs-text" class="anchor-navigation-ex-anchor" href="#keyword-vs-text"><i class="fa fa-link" aria-hidden="true"></i></a><a name="keyword-vs-text" class="plugin-anchor" href="#keyword-vs-text"><i class="fa fa-link" aria-hidden="true"></i></a>keyword VS text</h3>
<table>
<thead>
<tr>
<th style="text-align:left">&#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x53C2;&#x6570;&#x5B9A;&#x4E49;</th>
<th style="text-align:left">&#x8D4B;&#x503C;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">text</td>
<td style="text-align:left">&quot;name&quot;:{&quot;type&quot;:&quot;text&quot;}</td>
<td style="text-align:left">&quot;name&quot;: &quot;zhangsan&quot;</td>
</tr>
<tr>
<td style="text-align:left">keyword</td>
<td style="text-align:left">&quot;tags&quot;:{&quot;type&quot;:&quot;keyword&quot;}</td>
<td style="text-align:left">&quot;tags&quot;: &quot;food&quot;</td>
</tr>
<tr>
<td style="text-align:left">date</td>
<td style="text-align:left">&quot;date&quot;:{&quot;type&quot;: &quot;date&quot;}</td>
<td style="text-align:left">&quot;date&quot;:&quot;2015-01-01T12:10:30&quot;</td>
</tr>
<tr>
<td style="text-align:left">long</td>
<td style="text-align:left">&quot;age&quot;:{&quot;type&quot;:&quot;long&quot;}</td>
<td style="text-align:left">&quot;age&quot; :28</td>
</tr>
<tr>
<td style="text-align:left">double</td>
<td style="text-align:left">&quot;score&quot;:{&quot;type&quot;:&quot;double&quot;}</td>
<td style="text-align:left">&quot;score&quot;:98.8</td>
</tr>
<tr>
<td style="text-align:left">boolean</td>
<td style="text-align:left">&quot;isgirl&quot;: { &quot;type&quot;: &quot;boolean&quot; }</td>
<td style="text-align:left">&quot;isgirl&quot; :true</td>
</tr>
<tr>
<td style="text-align:left">ip</td>
<td style="text-align:left">&quot;ip_addr&quot;:{&quot;type&quot;:&quot;ip&quot;}</td>
<td style="text-align:left">&quot;ip_addr&quot;: &quot;192.168.1.1&quot;</td>
</tr>
<tr>
<td style="text-align:left">geo_point</td>
<td style="text-align:left">&quot;location&quot;: {&quot;type&quot;:&quot;geo_point&quot;}</td>
<td style="text-align:left">&quot;location&quot;:{&quot;lat&quot;:40.12,&quot;lon&quot;:-71.34}</td>
</tr>
</tbody>
</table>
<p>keyword &#x7C7B;&#x578B;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; ignoreAbove &#x6765;&#x4FEE;&#x9970;&#xFF0C;&#x8D85;&#x8FC7; ignoreAbove &#x6307;&#x5B9A;&#x7684;&#x5C06;&#x4E0D;&#x4F1A;&#x88AB;&#x68C0;&#x7D22;&#x5230;&#x3002;&#x5BF9;&#x8D85;&#x8FC7; <code>ignore_above</code> &#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;analyzer &#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF1B;&#x6240;&#x4EE5;&#x5C31;&#x4E0D;&#x4F1A;&#x7D22;&#x5F15;&#x8D77;&#x6765;&#x3002;&#x5BFC;&#x81F4;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x6700;&#x7EC8;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x641C;&#x7D22;&#x4E0D;&#x5230;&#x4E86;&#x3002;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x4E3B;&#x8981;&#x5BF9; <code>not_analyzed</code> &#x5B57;&#x6BB5;&#x6709;&#x7528;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x901A;&#x5E38;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3001;&#x805A;&#x5408;&#x548C;&#x6392;&#x5E8F;&#x3002;&#x800C;&#x4E14;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x90FD;&#x662F;&#x7ED3;&#x6784;&#x5316;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x5141;&#x8BB8;&#x5728;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E2D;&#x7D22;&#x5F15;&#x8FC7;&#x957F;&#x7684;&#x9879;&#x3002;</p>
<h2 id="routing"><a name="routing" class="anchor-navigation-ex-anchor" href="#routing"><i class="fa fa-link" aria-hidden="true"></i></a><a name="routing" class="plugin-anchor" href="#routing"><i class="fa fa-link" aria-hidden="true"></i></a>Routing</h2>
<p>&#x89E3;&#x51B3;&#x6587;&#x6863;&#x5E94;&#x8BE5;&#x5B58;&#x50A8;&#x5728;&#x90A3;&#x4E2A;&#x5206;&#x7247;&#x4E2D;</p>
<p>&#x9ED8;&#x8BA4;</p>
<pre><code>shard = hash(routing) % number_of_primary_shards

# &#x9ED8;&#x8BA4;routing&#x662F;&#x6587;&#x6863; _id
</code></pre><h2 id="index"><a name="index" class="anchor-navigation-ex-anchor" href="#index"><i class="fa fa-link" aria-hidden="true"></i></a><a name="index" class="plugin-anchor" href="#index"><i class="fa fa-link" aria-hidden="true"></i></a>index</h2>
<ul>
<li><p>&#x521B;&#x5EFA;&#x7D22;&#x5F15; <code>PUT  /indexName</code>  </p>
</li>
<li><p>&#x7D22;&#x5F15;&#x72B6;&#x6001; <code>GET /_cat/indices?v</code></p>
</li>
<li><p>&#x7D22;&#x5F15;&#x8BE6;&#x60C5; <code>GET /indexName</code></p>
</li>
<li><p>&#x7D22;&#x5F15;&#x6620;&#x5C04;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5; <code>PUT /indexName/_mapping/newName</code></p>
</li>
<li><p>&#x5220;&#x9664;index <code>DELETE /indexName</code></p>
</li>
</ul>
<h4 id="&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;"><a name="&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;" class="plugin-anchor" href="#&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x6392;&#x5E8F;</h4>
<p>&#x3000;&#x3000;&#x3000;&#x3000;&#x67E5;&#x8BE2;host&#x540D;&#x4E3A;salt-test&#x7684;&#x4E3B;&#x673A;&#xFF0C;&#x53EA;&#x663E;&#x793A;message&#x548C;host&#x5B57;&#x6BB5;&#xFF0C;&#x6309;&#x65F6;&#x95F4;&#x5012;&#x5E8F;&#x6392;&#x5217;&#xFF0C;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x9875;&#x5927;&#x5C0F;&#x4E3A;2</p>
<pre><code>GET /system-log-2019.09/_search
{
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;host&quot;:&quot;salt-test&quot;
    }
  },
  &quot;_source&quot;: [
    &quot;host&quot;,
    &quot;@timestamp&quot;
    ],
  &quot;sort&quot;: [
    {
        &quot;@timestamp&quot;: &quot;desc&quot;
    }
  ],
  &quot;from&quot;: 0,
  &quot;size&quot;: 2
}
</code></pre><h2 id="&#x5E38;&#x89C1;&#x95EE;&#x9898;"><a name="&#x5E38;&#x89C1;&#x95EE;&#x9898;" class="anchor-navigation-ex-anchor" href="#&#x5E38;&#x89C1;&#x95EE;&#x9898;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5E38;&#x89C1;&#x95EE;&#x9898;" class="plugin-anchor" href="#&#x5E38;&#x89C1;&#x95EE;&#x9898;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E38;&#x89C1;&#x95EE;&#x9898;</h2>
<pre><code>{
        &quot;type&quot; : &quot;illegal_argument_exception&quot;,
    &quot;reason&quot; : &quot;Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [interests] in order to load field data by uninverting the inverted index. Note that this can use significant memory.&quot;
}
</code></pre><pre><code>PUT /loginfo/_mapping
{
  &quot;properties&quot;:{
    &quot;sessionID&quot; : {
      &quot;type&quot; : &quot;text&quot;,
      &quot;fielddata&quot; : true,
      &quot;index&quot; : &quot;not_analyzed&quot;
    }
  }
}
</code></pre><h2 id="aggs"><a name="aggs" class="anchor-navigation-ex-anchor" href="#aggs"><i class="fa fa-link" aria-hidden="true"></i></a><a name="aggs" class="plugin-anchor" href="#aggs"><i class="fa fa-link" aria-hidden="true"></i></a>Aggs</h2>
<p>aggs&#x6700;&#x91CD;&#x8981;&#x7684;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;</p>
<ol>
<li>Buckets&#xFF1A;&#x7B26;&#x5408;bucket&#x6761;&#x4EF6;&#x7684;&#x6587;&#x6863;&#x4F1A;&#x653E;&#x5165;bucket&#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x53EF;&#x4EE5;&#x5C5E;&#x4E8E;&#x591A;&#x4E2A;bucket , bucket &#x53EF;&#x4EE5;&#x88AB;&#x5D4C;&#x5957;&#x3002;</li>
<li>Metrics : &#x5BF9; bucket &#x91CC;&#x7684;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x7EDF;&#x8BA1;&#x8BA1;&#x7B97;&#xFF0C;&#x6587;&#x6863;&#x5212;&#x5206;&#x5230; bucket &#x91CC;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x7EC8;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x5BF9; bucket &#x91CC;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6307;&#x6807;&#x8BA1;&#x7B97;&#xFF08;min/max/avg/sum&#xFF09;&#x7B49;&#x7B49;</li>
</ol>
<p>&#x4E00;&#x4E2A;aggs &#x53EF;&#x4EE5;&#x6709;&#x5F88;&#x591A;&#x4E2A;&#x805A;&#x5408;&#xFF0C;&#x6BCF;&#x4E2A;&#x805A;&#x5408;&#x5F7C;&#x6B64;&#x4E4B;&#x95F4;&#x90FD;&#x662F;&#x72EC;&#x7ACB;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x62FF;&#x6765;&#x7EDF;&#x8BA1;&#x6570;&#x91CF;&#x3001;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x62FF;&#x6765;&#x5206;&#x6790;&#x6570;&#x636E;&#x3001;&#x4E00;&#x4E2A;&#x805A;&#x5408;&#x62FF;&#x6765;&#x8BA1;&#x7B97;&#x6807;&#x51C6;&#x5DEE;...&#xFF0C;&#x8BA9;&#x4E00;&#x6B21;&#x641C;&#x7D22;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x60F3;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x4E00;&#x6B21;&#x505A;&#x5B8C;&#x3002;</p>
<p>&#x805A;&#x5408;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A; size &#x4F1A;&#x8FD4;&#x56DE;&#x5168;&#x90E8;&#x7ED3;&#x679C;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;0&#xFF0C;&#x4F1A;&#x8FD4;&#x56DE;&#x5168;&#x90E8;&#x7ED3;&#x679C;</p>
<p>&#x56E0;&#x4E3A;&#x805A;&#x5408;&#x603B;&#x662F;&#x5BF9;&#x67E5;&#x8BE2;&#x8303;&#x56F4;&#x5185;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x4E2A;&#x9694;&#x79BB;&#x7684;&#x805A;&#x5408;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x5728;&#x5BF9; <code>match_all</code> &#x7684;&#x7ED3;&#x679C;&#x8303;&#x56F4;&#x64CD;&#x4F5C;&#xFF0C;&#x5373;&#x6240;&#x6709;&#x7684;&#x6587;&#x6863;&#x3002;&#x73B0;&#x5B9E;&#x4E2D;&#xFF0C;Elasticsearch &#x8BA4;&#x4E3A; &quot;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x67E5;&#x8BE2;&quot; &#x548C; &quot;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x6587;&#x6863;&quot; &#x662F;&#x7B49;&#x4EF7;&#x7684;&#x3002;</p>
<pre><code>GET /cars/transactions/_search
{
    &quot;size&quot; : 0,
    &quot;aggs&quot; : {
        &quot;colors&quot; : {
            &quot;terms&quot; : {
              &quot;field&quot; : &quot;color&quot;
            }
        }
    }
}

GET /cars/transactions/_search
{
    &quot;size&quot; : 0,
    &quot;query&quot; : {
        &quot;match_all&quot; : {}
    },
    &quot;aggs&quot; : {
        &quot;colors&quot; : {
            &quot;terms&quot; : {
              &quot;field&quot; : &quot;color&quot;
            }
        }
    }
}
</code></pre><h4 id="&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;"><a name="&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;" class="anchor-navigation-ex-anchor" href="#&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;" class="plugin-anchor" href="#&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6309;&#x7279;&#x5B9A;&#x5B57;&#x6BB5;&#x5206;&#x7EC4;</h4>
<pre><code>GET /loginfo/_search
{
  &quot;aggs&quot;: {
    &quot;group_yy&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;sessionID.keyword&quot;,
        &quot;size&quot;: 100
      }
    }
  }
}
</code></pre><h4 id="&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;"><a name="&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;" class="plugin-anchor" href="#&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x7EC4;&#x540E;&#x518D;&#x5206;&#x7EC4;</h4>
<pre><code>GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;must&quot;: [
        {
          &quot;term&quot;: {
            &quot;app_index&quot;: {
              &quot;value&quot;: 21,
              &quot;boost&quot;: 1
            }
          }
        },
        {
          &quot;range&quot;: {
            &quot;logTime&quot;: {
              &quot;from&quot;: 1625155200000,
              &quot;to&quot;: 1625241599766,
              &quot;include_lower&quot;: true,
              &quot;include_upper&quot;: true,
              &quot;boost&quot;: 1
            }
          }
        }
      ],
      &quot;adjust_pure_negative&quot;: true,
      &quot;boost&quot;: 1
    }
  },
  &quot;aggs&quot;: {
    &quot;session_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;sessionID.keyword&quot;,
        &quot;size&quot;: 10
      }, 
      &quot;aggs&quot;: {
        &quot;level_group&quot;: {
          &quot;terms&quot;: {
            &quot;field&quot;: &quot;level&quot;
          }
        }
      }
    }
  }
}
</code></pre><h3 id="&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;"><a name="&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;" class="plugin-anchor" href="#&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x805A;&#x5408;</h3>
<pre><code>GET /v2-loginfo/_search
{
  &quot;aggs&quot;: {
    &quot;level_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;level&quot;
      },
      &quot;aggs&quot;: {
        &quot;distinct_group&quot;: {
          &quot;terms&quot;: {
            &quot;script&quot;: &quot;doc[&apos;file.keyword&apos;].value + &apos; &apos; + doc[&apos;functionName.keyword&apos;].value + &apos;&apos; + doc[&apos;line&apos;].value&quot;,
            &quot;size&quot;: 10
          }
        }
      }
    }
  }
}
</code></pre><h3 id="aggtype"><a name="aggtype" class="anchor-navigation-ex-anchor" href="#aggtype"><i class="fa fa-link" aria-hidden="true"></i></a><a name="aggtype" class="plugin-anchor" href="#aggtype"><i class="fa fa-link" aria-hidden="true"></i></a>agg_type</h3>
<h4 id="datehistogram"><a name="datehistogram" class="anchor-navigation-ex-anchor" href="#datehistogram"><i class="fa fa-link" aria-hidden="true"></i></a><a name="datehistogram" class="plugin-anchor" href="#datehistogram"><i class="fa fa-link" aria-hidden="true"></i></a>date_histogram</h4>
<h4 id="histogram-&#x76F4;&#x65B9;&#x56FE;"><a name="histogram-&#x76F4;&#x65B9;&#x56FE;" class="anchor-navigation-ex-anchor" href="#histogram-&#x76F4;&#x65B9;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="histogram-&#x76F4;&#x65B9;&#x56FE;" class="plugin-anchor" href="#histogram-&#x76F4;&#x65B9;&#x56FE;"><i class="fa fa-link" aria-hidden="true"></i></a>histogram &#x76F4;&#x65B9;&#x56FE;</h4>
<pre><code>&quot;aggs&quot;: {
  &quot;level_group&quot;: {
    &quot;histogram&quot;: {
      &quot;field&quot;: &quot;level&quot;,
      &quot;interval&quot; : 1
    }
  }
}
</code></pre><h4 id="datehistogram_1"><a name="datehistogram_1" class="anchor-navigation-ex-anchor" href="#datehistogram_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="datehistogram" class="plugin-anchor" href="#datehistogram"><i class="fa fa-link" aria-hidden="true"></i></a>date_histogram</h4>
<pre><code>&quot;aggs&quot;: {
  &quot;level_group&quot;: {
    &quot;histogram&quot;: {
      &quot;field&quot;: &quot;date&quot;,
      &quot;interval&quot; : &quot;month&quot;
    }
  }
}
</code></pre><h4 id="terms"><a name="terms" class="anchor-navigation-ex-anchor" href="#terms"><i class="fa fa-link" aria-hidden="true"></i></a><a name="terms" class="plugin-anchor" href="#terms"><i class="fa fa-link" aria-hidden="true"></i></a>terms</h4>
<p>&#x5BF9; keyword &#x6309;&#x503C;&#x8FDB;&#x884C;&#x5206;&#x7EC4;</p>
<pre><code>GET /v2-loginfo/_search
{
  &quot;size&quot;: 0, 
  &quot;aggs&quot;: {
    &quot;os_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;os&quot;
      }
    }
  }
}
</code></pre><h4 id="tophits"><a name="tophits" class="anchor-navigation-ex-anchor" href="#tophits"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tophits" class="plugin-anchor" href="#tophits"><i class="fa fa-link" aria-hidden="true"></i></a>top_hits</h4>
<p>&#x83B7;&#x53D6;&#x7B26;&#x5408;&#x5206;&#x7EC4;&#x7684;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;</p>
<pre><code>GET /v2-loginfo/_search
{
  &quot;size&quot;: 0, 
  &quot;aggs&quot;: {
    &quot;level_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;level&quot;
      }
    }
  }
}

// &#x4E00;&#x822C;aggs &#x53EA;&#x662F;&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; top_hits &#x83B7;&#x53D6;&#x6307;&#x5B9A;&#x6570;&#x91CF;&#x7684;&#x6570;&#x636E;
&quot;aggregations&quot; : {
  &quot;level_group&quot; : {
    &quot;doc_count_error_upper_bound&quot; : 0,
    &quot;sum_other_doc_count&quot; : 0,
    &quot;buckets&quot; : [
      {
        &quot;key&quot; : 4,
        &quot;doc_count&quot; : 427
      },
      {
        &quot;key&quot; : 3,
        &quot;doc_count&quot; : 73
      },
      {
        &quot;key&quot; : 0,
        &quot;doc_count&quot; : 4
      },
      {
        &quot;key&quot; : 1,
        &quot;doc_count&quot; : 4
      },
      {
        &quot;key&quot; : 2,
        &quot;doc_count&quot; : 1
      }
    ]
  }
}


// &#x5206;&#x7EC4;&#x540E;&#x83B7;&#x53D6;&#x7EC4;&#x5185;&#x6570;&#x636E;
GET /v2-loginfo/_search
{
  &quot;size&quot;: 0, 
  &quot;aggs&quot;: {
    &quot;level_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;level&quot;
      },
      &quot;aggs&quot;: {
        &quot;top_log&quot;: {
          &quot;top_hits&quot;: {
            &quot;size&quot;: 10,
            &quot;sort&quot;: [
              {
                &quot;timestamp&quot;: {
                  &quot;order&quot;: &quot;desc&quot;
                }
              }
            ]
          }
        }
      }
    }
  }
}


&quot;aggregations&quot; : {
    &quot;level_group&quot; : {
      &quot;doc_count_error_upper_bound&quot; : 0,
      &quot;sum_other_doc_count&quot; : 0,
      &quot;buckets&quot; : [
        {
          &quot;key&quot; : 4,
          &quot;doc_count&quot; : 427,
          &quot;top_log&quot; : {
            &quot;hits&quot; : {
              &quot;total&quot; : {
                &quot;value&quot; : 427,
                &quot;relation&quot; : &quot;eq&quot;
              },
              &quot;max_score&quot; : null,
              &quot;hits&quot; : [
                {
                  &quot;_index&quot; : &quot;v2-loginfo&quot;,
                  &quot;_type&quot; : &quot;_doc&quot;,
                  &quot;_id&quot; : &quot;c8cd5b38-233c-4c10-8f95-1051493955bf&quot;,
                  &quot;_score&quot; : null,
                  &quot;_routing&quot; : &quot;b09913d18fd519e1&quot;,
                  &quot;_source&quot; : {
                    &quot;_class&quot; : &quot;com.appinsight.core.dataaccessorlog.model.LogESDetailModel&quot;,
                    &quot;id&quot; : &quot;c8cd5b38-233c-4c10-8f95-1051493955bf&quot;,
                    &quot;timestamp&quot; : 1626851150825,
                    &quot;content&quot; : &quot;render image, app is active:1, replayPaused:0&quot;,
                    &quot;logTime&quot; : 1626851104492,
                    &quot;sessionId&quot; : &quot;b09913d18fd519e1&quot;,
                    &quot;functionName&quot; : &quot;-[SJLogger level:format:]&quot;,
                    &quot;file&quot; : &quot;SJLogger.m&quot;,
                    &quot;line&quot; : 102,
                    &quot;tag&quot; : &quot;AppInsight&quot;,
                    &quot;appIndex&quot; : 21,
                    &quot;level&quot; : 4,
                    &quot;relation&quot; : {
                      &quot;name&quot; : &quot;log&quot;,
                      &quot;parent&quot; : &quot;b09913d18fd519e1&quot;
                    },
                    &quot;userIndex&quot; : 0,
                    &quot;sessionStartTime&quot; : 0
                  },
                  &quot;sort&quot; : [
                    1626851150825
                  ]
                },
</code></pre><h4 id="filter"><a name="filter" class="anchor-navigation-ex-anchor" href="#filter"><i class="fa fa-link" aria-hidden="true"></i></a><a name="filter" class="plugin-anchor" href="#filter"><i class="fa fa-link" aria-hidden="true"></i></a>filter</h4>
<pre><code>GET 127.0.0.1/mytest/doc/_search
{
    &quot;query&quot;:
    {
        &quot;match_all&quot;:
              {}
    },
    &quot;size&quot;: 0,
    &quot;aggs&quot;:
    {
        &quot;my_name&quot;:
        {
            &quot;filter&quot;:
            {
                &quot;bool&quot;:
                {
                    &quot;must&quot;:
                    {
                        &quot;terms&quot;:
                        {
                            &quot;color&quot;:
                            [
                                &quot;red&quot;,
                                &quot;blue&quot;
                            ]
                        }
                    }
                }
            }
        }
    }
}
</code></pre><h2 id="&#x67E5;&#x627E;"><a name="&#x67E5;&#x627E;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x627E;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x67E5;&#x627E;" class="plugin-anchor" href="#&#x67E5;&#x627E;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x627E;</h2>
<h3 id="term"><a name="term" class="anchor-navigation-ex-anchor" href="#term"><i class="fa fa-link" aria-hidden="true"></i></a><a name="term" class="plugin-anchor" href="#term"><i class="fa fa-link" aria-hidden="true"></i></a>term</h3>
<p>&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;term&#x6307;&#x5B9A;&#x7684;&#x503C;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x8BCD;&#x5904;&#x7406;&#xFF0C;&#x5BF9;&#x5E94;field&#x7684;&#x503C;&#x5FC5;&#x987B;&#x7B49;&#x4E8E;term&#x6307;&#x5B9A;&#x7684;&#x503C;&#x3002;</p>
<p>&#x907F;&#x514D;&#x5BF9; text &#x7C7B;&#x578B;&#x7684; field &#x4F7F;&#x7528; term&#xFF0C;&#x56E0;&#x4E3A; text &#x5B57;&#x6BB5;&#x9ED8;&#x8BA4;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x5904;&#x7406;&#x3002;</p>
<p>term &#x67E5;&#x8BE2;&#x4F1A;&#x67E5;&#x627E;&#x6211;&#x4EEC;&#x6307;&#x5B9A;&#x7684;&#x7CBE;&#x786E;&#x503C;&#x3002;term &#x67E5;&#x8BE2;&#x662F;&#x7B80;&#x5355;&#x7684;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x540D;&#x4EE5;&#x53CA;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x67E5;&#x627E;&#x7684;&#x6570;&#x503C;&#x3002;</p>
<p>&#x7C7B;&#x4F3C;&#x4E8E; mysql &#x4E2D;&#x7684; select *  from loginfo where content = &apos;send message&apos;</p>
<pre><code>GET /loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;content&quot;: &quot;send message&quot;
    }
  }
}
</code></pre><p>&#x5F53;&#x8FDB;&#x884C;&#x7CBE;&#x786E;&#x503C;&#x67E5;&#x627E;&#x65F6;&#xFF0C; &#x6211;&#x4EEC;&#x4F1A;&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x5668;&#xFF08;filters&#xFF09;&#x3002;&#x8FC7;&#x6EE4;&#x5668;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4EEC;&#x6267;&#x884C;&#x901F;&#x5EA6;&#x975E;&#x5E38;&#x5FEB;&#xFF0C;&#x4E0D;&#x4F1A;&#x8BA1;&#x7B97;&#x76F8;&#x5173;&#x5EA6;&#xFF08;&#x76F4;&#x63A5;&#x8DF3;&#x8FC7;&#x4E86;&#x6574;&#x4E2A;&#x8BC4;&#x5206;&#x9636;&#x6BB5;&#xFF09;&#x800C;&#x4E14;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x7F13;&#x5B58;&#x3002;</p>
<pre><code>// content &#x662F; text &#x7C7B;&#x578B;
{
    &quot;content&quot; : &quot;cloginsight header&quot;,
}

// term &#x67E5;&#x627E;&#x4E0D;&#x80FD;&#x5339;&#x914D;&#xFF0C;&#x56E0;&#x4E3A;&#x5206;&#x8BCD;&#x7684;&#x7ED3;&#x679C; cloginsight header &#x88AB;&#x62C6;&#x5F00;&#x4E86;&#xFF0C;&#x4E0D;&#x80FD;&#x5B8C;&#x5168;&#x5339;&#x914D;&quot;cloginsight header&quot;
GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;content&quot;: {
        &quot;value&quot;: &quot;cloginsight header&quot;
      }
    }
  }
}

// content.keyword &#x56E0;&#x4E3A;&#x4E0D;&#x4F1A;&#x88AB;&#x5206;&#x6790;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x5339;&#x914D;
GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;content.keyword&quot;: {
        &quot;value&quot;: &quot;cloginsight header&quot;
      }
    }
  }
}

// &#x53EF;&#x4EE5;&#x5339;&#x914D;
GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;content&quot;: {
        &quot;value&quot;: &quot;cloginsight&quot;
      }
    }
  }
}

// &#x4E0D;&#x80FD;&#x5339;&#x914D;
GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;content.keyword&quot;: {
        &quot;value&quot;: &quot;cloginsight&quot;
      }
    }
  }
}
</code></pre><h3 id="match"><a name="match" class="anchor-navigation-ex-anchor" href="#match"><i class="fa fa-link" aria-hidden="true"></i></a><a name="match" class="plugin-anchor" href="#match"><i class="fa fa-link" aria-hidden="true"></i></a>match</h3>
<p>match &#x6307;&#x5B9A;&#x7684;&#x503C;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x8BCD;&#xFF0C;&#x6BD4;&#x5982;&quot;&#x5B9D;&#x9A6C;&#x591A;&#x5C11;&#x9A6C;&#x529B;&quot;&#x4F1A;&#x88AB;&#x5206;&#x8BCD;&#x4E3A;&quot;&#x5B9D;&#x9A6C; &#x591A;&#x5C11; &#x9A6C;&#x529B;&quot;, &#x6240;&#x6709;&#x5305;&#x542B;&#x8FD9;&#x4E09;&#x4E2A;&#x8BCD;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7684;&#x6587;&#x6863;&#x5C31;&#x4F1A;&#x88AB;&#x641C;&#x7D22;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x6839;&#x636E;lucene&#x7684;&#x8BC4;&#x5206;&#x673A;&#x5236;(TF/IDF)&#x6765;&#x8FDB;&#x884C;&#x8BC4;&#x5206;&#x3002;</p>
<pre><code>{
  &quot;query&quot;: {
    &quot;match&quot;: {
        &quot;content&quot; : {
            &quot;query&quot; : &quot;&#x6211;&#x7684;&#x5B9D;&#x9A6C;&#x591A;&#x5C11;&#x9A6C;&#x529B;&quot;
        }
    }
  }
}
</code></pre><h3 id="range-&#x8303;&#x56F4;&#x68C0;&#x7D22;"><a name="range-&#x8303;&#x56F4;&#x68C0;&#x7D22;" class="anchor-navigation-ex-anchor" href="#range-&#x8303;&#x56F4;&#x68C0;&#x7D22;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="range-&#x8303;&#x56F4;&#x68C0;&#x7D22;" class="plugin-anchor" href="#range-&#x8303;&#x56F4;&#x68C0;&#x7D22;"><i class="fa fa-link" aria-hidden="true"></i></a>range &#x8303;&#x56F4;&#x68C0;&#x7D22;</h3>
<p>range &#x67E5;&#x8BE2;&#x53EF;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x5305;&#x542B;&#xFF08;inclusive&#xFF09;&#x548C;&#x4E0D;&#x5305;&#x542B;&#xFF08;exclusive&#xFF09;&#x8FD9;&#x4E24;&#x79CD;&#x8303;&#x56F4;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x53EF;&#x4F9B;&#x7EC4;&#x5408;&#x7684;&#x9009;&#x9879;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code>gt: &gt; &#x5927;&#x4E8E;&#xFF08;greater than&#xFF09;
lt: &lt; &#x5C0F;&#x4E8E;&#xFF08;less than&#xFF09;
gte: &gt;= &#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#xFF08;greater than or equal to&#xFF09;
lte: &lt;= &#x5C0F;&#x4E8E;&#x6216;&#x7B49;&#x4E8E;&#xFF08;less than or equal to&#xFF09;
</code></pre><p>Mysql:</p>
<p><code>SELECT DOCUMENT FROM PRODUCTS WHERE logTime between 1624002260168 and 1627502260168</code> </p>
<pre><code>GET /loginfo/_search
{
  &quot;query&quot;: {
    &quot;constant_score&quot;: {
      &quot;filter&quot;: {
        &quot;range&quot;: {
          &quot;logTime&quot;: {
            &quot;gte&quot;: 1624002260168,
            &quot;lte&quot;: 1627502260168
          }
        }
      }
    }
  }
}
</code></pre><h3 id="exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;"><a name="exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;" class="plugin-anchor" href="#exists-&#x5B58;&#x5728;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>exists &#x5B58;&#x5728;&#x67E5;&#x8BE2;</h3>
<pre><code>GET /my_index/posts/_search
{
    &quot;query&quot;:
    {
        &quot;constant_score&quot;:
        {
            &quot;filter&quot;:
            {
                &quot;exists&quot;:
                {
                    &quot;field&quot;: &quot;tags&quot;
                }
            }
        }
    }
}
</code></pre><h2 id="prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;"><a name="prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;" class="plugin-anchor" href="#prefix-&#x524D;&#x7F00;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>prefix &#x524D;&#x7F00;&#x67E5;&#x8BE2;</h2>
<p>&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x524D;&#x7F00;&#x81EA;&#x52A8;&#x8865;&#x5168;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<p>&#x9002;&#x7528;&#x7C7B;&#x578B;&#xFF1A;keyword</p>
<pre><code>GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;prefix&quot;: {
      &quot;content.keyword&quot;: {
        &quot;value&quot;: &quot;iOS&quot;
      }
    }
  }
}
</code></pre><h3 id="regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;"><a name="regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;" class="plugin-anchor" href="#regexp-&#x6B63;&#x5219;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>regexp &#x6B63;&#x5219;&#x67E5;&#x8BE2;</h3>
<pre><code>GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;regexp&quot;: {
      &quot;content.keyword&quot;: {
        &quot;value&quot;: &quot;.*People.*&quot;
      }
    }
  }
}
</code></pre><h3 id="wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;"><a name="wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;" class="anchor-navigation-ex-anchor" href="#wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;" class="plugin-anchor" href="#wildcard-&#x6A21;&#x7CCA;&#x5339;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a>wildcard &#x6A21;&#x7CCA;&#x5339;&#x914D;</h3>
<ul>
<li><p>&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF1A;&#x5339;&#x914D;&#x5177;&#x6709;&#x5339;&#x914D;&#x901A;&#x914D;&#x7B26;&#x8868;&#x8FBE;&#x5F0F; keyword &#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#x3002;&#x652F;&#x6301;&#x7684;&#x901A;&#x914D;&#x7B26;&#xFF1A; *&#xFF0C;&#x5B83;&#x5339;&#x914D;&#x4EFB;&#x4F55;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#xFF08;&#x5305;&#x62EC;&#x7A7A;&#x5B57;&#x7B26;&#x5E8F;&#x5217;&#xFF09;&#xFF1B;&#xFF1F;&#xFF0C;&#x5B83;&#x5339;&#x914D;&#x4EFB;&#x4F55;&#x5355;&#x4E2A;&#x5B57;&#x7B26;&#x3002;</p>
</li>
<li><p>&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9009;&#x578B;&#x52A1;&#x5FC5;&#x8981;&#x614E;&#x91CD;&#xFF01;&#x6B64;&#x67E5;&#x8BE2;&#x53EF;&#x80FD;&#x5F88;&#x6162;&#x591A;&#x7EC4;&#x5173;&#x952E;&#x6B21;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x5B95;&#x673A;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9700;&#x8981;&#x904D;&#x5386;&#x591A;&#x4E2A;&#x672F;&#x8BED;&#x3002;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x975E;&#x5E38;&#x6162;&#x7684;&#x901A;&#x914D;&#x7B26;&#x67E5;&#x8BE2;&#xFF0C;&#x901A;&#x914D;&#x7B26;&#x4E0D;&#x80FD;&#x4EE5;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x901A;&#x914D;&#x7B26;*&#x6216;&#xFF1F;&#x5F00;&#x5934;&#x3002;</p>
</li>
<li>&#x9002;&#x7528;&#x7C7B;&#x578B;&#xFF1A;keyword</li>
</ul>
<h3 id="matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;"><a name="matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;" class="anchor-navigation-ex-anchor" href="#matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;" class="plugin-anchor" href="#matchphrase-&#x77ED;&#x8BED;&#x5339;&#x914D;"><i class="fa fa-link" aria-hidden="true"></i></a>match_phrase &#x77ED;&#x8BED;&#x5339;&#x914D;</h3>
<ul>
<li>&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF1A;match_phrase &#x67E5;&#x8BE2;&#x9996;&#x5148;&#x5C06;&#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x6790;&#x6210;&#x4E00;&#x4E2A;&#x8BCD;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x7136;&#x540E;&#x5BF9;&#x8FD9;&#x4E9B;&#x8BCD;&#x9879;&#x8FDB;&#x884C;&#x641C;&#x7D22;;&#x53EA;&#x4FDD;&#x7559;&#x90A3;&#x4E9B;&#x5305;&#x542B; &#x5168;&#x90E8; &#x641C;&#x7D22;&#x8BCD;&#x9879;&#xFF0C;&#x4E14;&#x4F4D;&#x7F6E;&quot;position&quot; &#x4E0E;&#x641C;&#x7D22;&#x8BCD;&#x9879;&#x76F8;&#x540C;&#x7684;&#x6587;&#x6863;</li>
<li><p>&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x4E1A;&#x52A1;&#x5F00;&#x53D1;&#x4E2D; 90%+ &#x7684;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x90FD;&#x4F1A;&#x4F7F;&#x7528; match_phrase &#x6216;&#x8005; query_string &#x7C7B;&#x578B;&#xFF0C;&#x800C;&#x4E0D;&#x662F; match&#x3002;</p>
</li>
<li><p>&#x9002;&#x7528;&#x7C7B;&#x578B;&#xFF1A;text</p>
</li>
</ul>
<h3 id="&#x5206;&#x9875;&#x67E5;&#x8BE2;"><a name="&#x5206;&#x9875;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x9875;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x9875;&#x67E5;&#x8BE2;" class="plugin-anchor" href="#&#x5206;&#x9875;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x9875;&#x67E5;&#x8BE2;</h3>
<p>from&#x3001;size&#x3001;n&#xFF08;&#x4E3B;&#x5206;&#x7247;&#x6570;&#xFF09;</p>
<p>&#x8BF7;&#x6C42;&#x4F1A;&#x5206;&#x53D1;&#x5230;&#x5BF9;&#x5E94;&#x4E3B;&#x5206;&#x7247;&#x6216;&#x8005;&#x526F;&#x672C;&#x5206;&#x7247;&#x4E0A;&#xFF0C;<strong>&#x5206;&#x7247;&#x5411;&#x534F;&#x8C03;&#x8282;&#x70B9;&#x8FD4;&#x56DE;(from+size)&#x6761;&#x6570;&#x636E;</strong>&#xFF0C;n&#x4E2A;&#x5206;&#x7247;&#x5171;&#x8FD4;&#x56DE;&#x6570;&#x636E;<strong>(from+size)*n</strong>&#x6761;&#x6570;&#x636E;&#xFF1B;</p>
<p>&#x534F;&#x8C03;&#x8282;&#x70B9;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;<strong>from&#x5230;from+size&#x4E4B;&#x95F4;&#x7684;&#x6570;&#x636E;</strong></p>
<h3 id="scroll&#x67E5;&#x8BE2;"><a name="scroll&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#scroll&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="scroll&#x67E5;&#x8BE2;" class="plugin-anchor" href="#scroll&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>scroll&#x67E5;&#x8BE2;</h3>
<p>&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x9875;&#x67E5;&#x8BE2;100&#x9875;&#x6570;&#x636E;&#xFF0C;&#x6BCF;&#x9875;&#x6570;&#x636E;100&#x6761;&#xFF0C;&#x5219;&#x9700;&#x91CD;&#x590D;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;100&#x6B21;&#xFF0C;&#x4E14;&#x968F;&#x7740;from&#x7684;&#x589E;&#x5927;&#xFF0C;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x6162;&#xFF0C;&#x4F7F;&#x7528;scroll&#x67E5;&#x8BE2;&#x53EA;&#x8981;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#xFF0C;&#x67E5;&#x8BE2;&#x8FC7;&#x7A0B;&#xFF1A;</p>
<p>&#x6BCF;&#x4E2A;&#x5206;&#x7247;&#x8FD4;&#x56DE;10000&#x6761;&#x6570;&#x636E;&#xFF0C;&#x534F;&#x8C03;&#x8282;&#x70B9;&#x5171;&#x63A5;&#x6536;&#x6570;&#x636E;10000*n&#x6761;&#xFF1B;</p>
<p>&#x534F;&#x8C03;&#x8282;&#x70B9;&#x5BF9;&#x6570;&#x636E;&#x6392;&#x5E8F;&#x540E;&#xFF0C;&#x8FD4;&#x56DE;&#x524D;10000&#x6761;&#x6570;&#x636E;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;</p>
<p><code>scroll</code> &#x67E5;&#x8BE2; &#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5BF9; Elasticsearch &#x6709;&#x6548;&#x5730;&#x6267;&#x884C;&#x5927;&#x6279;&#x91CF;&#x7684;&#x6587;&#x6863;&#x67E5;&#x8BE2;&#xFF0C;&#x800C;&#x53C8;&#x4E0D;&#x7528;&#x4ED8;&#x51FA;&#x6DF1;&#x5EA6;&#x5206;&#x9875;&#x90A3;&#x79CD;&#x4EE3;&#x4EF7;&#x3002;</p>
<p>&#x542F;&#x7528;&#x6E38;&#x6807;&#x67E5;&#x8BE2;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5728;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x8BBE;&#x7F6E;&#x53C2;&#x6570; <code>scroll</code> &#x7684;&#x503C;&#x4E3A;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x7684;&#x6E38;&#x6807;&#x67E5;&#x8BE2;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002; &#x6E38;&#x6807;&#x67E5;&#x8BE2;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4F1A;&#x5728;&#x6BCF;&#x6B21;&#x505A;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x5237;&#x65B0;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x53EA;&#x9700;&#x8981;&#x8DB3;&#x591F;&#x5904;&#x7406;&#x5F53;&#x524D;&#x6279;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5904;&#x7406;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x6240;&#x6709;&#x6587;&#x6863;&#x7684;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x3002; &#x8FD9;&#x4E2A;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x7684;&#x53C2;&#x6570;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x56E0;&#x4E3A;&#x4FDD;&#x6301;&#x8FD9;&#x4E2A;&#x6E38;&#x6807;&#x67E5;&#x8BE2;&#x7A97;&#x53E3;&#x9700;&#x8981;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x671F;&#x671B;&#x5982;&#x679C;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x8FD9;&#x79CD;&#x8D44;&#x6E90;&#x5C31;&#x8BE5;&#x65E9;&#x70B9;&#x513F;&#x91CA;&#x653E;&#x6389;&#x3002; &#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x8D85;&#x65F6;&#x80FD;&#x591F;&#x8BA9; Elasticsearch &#x5728;&#x7A0D;&#x540E;&#x7A7A;&#x95F2;&#x7684;&#x65F6;&#x5019;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x8FD9;&#x90E8;&#x5206;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x5728;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;size,size&#x4E0A;&#x9650;&#x662F;10000&#x6761;&#xFF0C;&#x5047;&#x8BBE;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x8D85;&#x8FC7;10000&#x6761;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; scroll &#x67E5;&#x8BE2;&#x3002;</p>
<h2 id="&#x66F4;&#x65B0;"><a name="&#x66F4;&#x65B0;" class="anchor-navigation-ex-anchor" href="#&#x66F4;&#x65B0;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x66F4;&#x65B0;" class="plugin-anchor" href="#&#x66F4;&#x65B0;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x66F4;&#x65B0;</h2>
<h3 id="update"><a name="update" class="anchor-navigation-ex-anchor" href="#update"><i class="fa fa-link" aria-hidden="true"></i></a><a name="update" class="plugin-anchor" href="#update"><i class="fa fa-link" aria-hidden="true"></i></a>_update</h3>
<pre><code class="lang-json">POST student/_doc/<span class="hljs-number">2</span>/_update
{
  <span class="hljs-string">&quot;doc&quot;</span>: {
    <span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-number">10</span>
  }
}
</code></pre>
<h3 id="updatebyquery"><a name="updatebyquery" class="anchor-navigation-ex-anchor" href="#updatebyquery"><i class="fa fa-link" aria-hidden="true"></i></a><a name="updatebyquery" class="plugin-anchor" href="#updatebyquery"><i class="fa fa-link" aria-hidden="true"></i></a>_update_by_query</h3>
<pre><code>POST /test-sessioninfo/_update_by_query
{
  &quot;query&quot;: {
    &quot;match&quot;: {
      &quot;sessionId.keyword&quot;: &quot;82a4d82806491c1e&quot;
    }
  },
  &quot;script&quot;: {
    &quot;inline&quot;: &quot;ctx._source[&apos;errorCount&apos;] = 1&quot;
  }
}
</code></pre><p><code>#! Deprecation: Deprecated field [inline] used, expected [source] instead</code></p>
<pre><code class="lang-json">POST student/_update_by_query
{
  <span class="hljs-string">&quot;query&quot;</span>: { 
    <span class="hljs-string">&quot;match&quot;</span>: {
      <span class="hljs-string">&quot;_id&quot;</span>: <span class="hljs-number">2</span>
    }
  },
  <span class="hljs-string">&quot;script&quot;</span>: {
    <span class="hljs-string">&quot;source&quot;</span>: <span class="hljs-string">&quot;ctx._source.age = 12&quot;</span>
  }
}
</code></pre>
<h2 id="&#x5B9E;&#x6218;"><a name="&#x5B9E;&#x6218;" class="anchor-navigation-ex-anchor" href="#&#x5B9E;&#x6218;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B9E;&#x6218;" class="plugin-anchor" href="#&#x5B9E;&#x6218;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B9E;&#x6218;</h2>
<ol>
<li><p>&#x5148;&#x8FC7;&#x6EE4;&#x6570;&#x636E; , &#x4F9D;&#x636E;&#x65F6;&#x95F4;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;</p>
<pre><code>GET /xftest/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: [
        {
          &quot;range&quot;: {
            &quot;logTime&quot;: {
              &quot;gte&quot;: 1625155200000,
              &quot;lte&quot;: 1625241599000
            }
          }
        }
      ]
    }
  }
}
</code></pre></li>
</ol>
<ol>
<li><p>&#x6307;&#x5B9A;index</p>
<pre><code>GET /test-loginfo/_search
{
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: [
        {
          &quot;range&quot;: {
            &quot;logTime&quot;: {
              &quot;gte&quot;: 1625155200000,
              &quot;lte&quot;: 1625241599000
            }
          }
        },{
          &quot;term&quot;: {
            &quot;app_index&quot;: &quot;21&quot;
          }
        }
      ]
    }
  }
}
</code></pre></li>
</ol>
<ol>
<li><p>&#x6392;&#x5E8F;</p>
<pre><code>GET /test-loginfo/_search
{
  &quot;size&quot; : 200,
  &quot;query&quot;: {
    &quot;bool&quot;: {
      &quot;filter&quot;: [
        {
          &quot;range&quot;: {
            &quot;logTime&quot;: {
              &quot;gte&quot;: 1625155200000,
              &quot;lte&quot;: 1625241599000
            }
          }
        },{
          &quot;term&quot;: {
            &quot;app_index&quot;: &quot;21&quot;
          }
        }
      ]
    }
  },
  &quot;sort&quot;: [
    {
      &quot;@timestamp&quot; : {
        &quot;order&quot;: &quot;desc&quot;
      }
    }
  ]
}
</code></pre></li>
</ol>
<h2 id="&#x6784;&#x67B6;"><a name="&#x6784;&#x67B6;" class="anchor-navigation-ex-anchor" href="#&#x6784;&#x67B6;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6784;&#x67B6;" class="plugin-anchor" href="#&#x6784;&#x67B6;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6784;&#x67B6;</h2>
<p>&#x591A;&#x7D22;&#x5F15; </p>
<h2 id="nested"><a name="nested" class="anchor-navigation-ex-anchor" href="#nested"><i class="fa fa-link" aria-hidden="true"></i></a><a name="nested" class="plugin-anchor" href="#nested"><i class="fa fa-link" aria-hidden="true"></i></a>Nested</h2>
<p>&#x5D4C;&#x5957;&#x7C7B;&#x578B;&#xFF0C;&#x4E00;&#x5BF9;&#x591A;&#x3002;</p>
<h3 id="&#x9650;&#x5236;"><a name="&#x9650;&#x5236;" class="anchor-navigation-ex-anchor" href="#&#x9650;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x9650;&#x5236;" class="plugin-anchor" href="#&#x9650;&#x5236;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x9650;&#x5236;</h3>
<ul>
<li>&#x5355;&#x4E2A;&#x7D22;&#x5F15; Nested &#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x6700;&#x591A;&#x4E3A;50&#x4E2A;</li>
<li>&#x5355;&#x4E2A;&#x6587;&#x6863; &#x5305;&#x542B;&#x7684;&#x5BF9;&#x8C61;&#x4E0A;&#x9650;&#x4E3A; 10000&#xFF0C;&#x5426;&#x5219;&#x5BB9;&#x6613;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x3002;</li>
</ul>
<h2 id="join-field-type"><a name="join-field-type" class="anchor-navigation-ex-anchor" href="#join-field-type"><i class="fa fa-link" aria-hidden="true"></i></a><a name="join-field-type" class="plugin-anchor" href="#join-field-type"><i class="fa fa-link" aria-hidden="true"></i></a>Join field type</h2>
<p>&#x5982;&#x679C;&#x6570;&#x636E;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; join field type&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x4E2A; Index &#x4E2D;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;doc&#xFF0C;doc &#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; parent-child &#x5173;&#x7CFB;&#x3002;</p>
<ul>
<li><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/7.13/parent-join.html" target="_blank">https://www.elastic.co/guide/en/elasticsearch/reference/7.13/parent-join.html</a></p>
</li>
<li><p><a href="https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.jointype" target="_blank">https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch.jointype</a></p>
</li>
</ul>
<pre><code>@JoinTypeRelations(
        relations = {
                @JoinTypeRelation(parent = &quot;session&quot;,children = &quot;log&quot;)
        }
)
private JoinField&lt;String&gt;relation;


GET /t-loginfo/_mapping
...

&quot;relation&quot; : {
  &quot;type&quot; : &quot;join&quot;,
  &quot;eager_global_ordinals&quot; : true,
  &quot;relations&quot; : {
    &quot;session&quot; : &quot;log&quot;
  }
},

...
</code></pre><h3 id="haschild"><a name="haschild" class="anchor-navigation-ex-anchor" href="#haschild"><i class="fa fa-link" aria-hidden="true"></i></a><a name="haschild" class="plugin-anchor" href="#haschild"><i class="fa fa-link" aria-hidden="true"></i></a>has_child</h3>
<p>&#x4F7F;&#x7528;&#x5B50;&#x6587;&#x6863;&#x7684;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x67E5;&#x8BE2;&#x51FA;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x7236;&#x6587;&#x6863;&#x7684;&#x6570;&#x636E;</p>
<pre><code>GET /t-loginfo/_search
{
  &quot;query&quot;: {
    &quot;has_child&quot;: {
      &quot;type&quot;: &quot;log&quot;,
      &quot;query&quot;: {
        &quot;match_all&quot;: {}
      }
    }
  }
}
</code></pre><h3 id="hasparent"><a name="hasparent" class="anchor-navigation-ex-anchor" href="#hasparent"><i class="fa fa-link" aria-hidden="true"></i></a><a name="hasparent" class="plugin-anchor" href="#hasparent"><i class="fa fa-link" aria-hidden="true"></i></a>has_parent</h3>
<p>&#x4F7F;&#x7528;&#x7236;&#x6587;&#x6863;&#x7684;&#x5B57;&#x6BB5;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x67E5;&#x8BE2;&#x51FA;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x5B50;&#x6587;&#x6863;&#x6570;&#x636E;</p>
<pre><code>GET /t-loginfo/_search
{
  &quot;query&quot;: {
    &quot;has_parent&quot;: {
      &quot;parent_type&quot;: &quot;session&quot;,
      &quot;query&quot;: {
        &quot;match_all&quot;: {}
      }
    }
  }
}
</code></pre><h3 id="&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;"><a name="&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;" class="anchor-navigation-ex-anchor" href="#&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;" class="plugin-anchor" href="#&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6DFB;&#x52A0;&#x7236;&#x6587;&#x6863;</h3>
<p>&#x56E0;&#x4E3A;&#x7236;&#x5B50;&#x6587;&#x6863;&#x9700;&#x8981;&#x653E;&#x5230;&#x540C;&#x4E00;&#x4E2A;shard&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x6307;&#x660E; routing&#xFF0C;&#x9ED8;&#x8BA4;routing &#x662F; _id&#x3002;&#x5982;&#x679C;&#x7236;&#x6587;&#x6863;id&#x662F;routing,&#x90A3;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x989D;&#x5916;&#x8BBE;&#x7F6E;routing</p>
<pre><code>@Data
@Document(indexName = &quot;t-loginfo&quot;)
@Routing(&quot;routing&quot;)
public class LogESDetailModel implements Serializable {

      @Id
      private String id;

    @Field(type = FieldType.Keyword,name = &quot;sessionId&quot;)
    private String sessionId;


    @Field(type = FieldType.Keyword)
    private String routing;
}

// &#x4FDD;&#x5B58;&#x7236;&#x6587;&#x6863;
// &#x4FDD;&#x5B58;&#x7236;&#x6587;&#x6863;&#x7684;&#x65F6;&#x5019;&#x7528;id&#x4F5C;&#x4E3A;&#x8DEF;&#x7531;
public void saveSession(LogSessionModel model) {
    LogESDetailModel model1 = new LogESDetailModel();
    model1.fromLogSessionModel(model);
    model1.setId(model.getSessionId());
    model1.setRelation(new JoinField&lt;&gt;(&quot;session&quot;));
    productRepo.save(model1);
}

// &#x4FDD;&#x5B58;&#x5B50;&#x6587;&#x6863;
// &#x5B50;&#x6587;&#x6863;&#x4F7F;&#x7528;&#x7236;&#x6587;&#x6863;&#x7684;id&#x4F5C;&#x4E3A;&#x8DEF;&#x7531;
public void saveAll(List&lt;LogDetailModel&gt; models) {
    List&lt;LogESDetailModel&gt; modelList = new ArrayList&lt;&gt;();
    for (int i=0;i&lt;models.size();i++) {
        LogESDetailModel model = new LogESDetailModel();
        model.fromLogDetailModel(models.get(i));
        model.setRelation(new JoinField&lt;&gt;(&quot;log&quot;, model.getSessionId()));
        modelList.add(model);
    }
    productRepo.saveAll(modelList);
}
</code></pre><h3 id="&#x67E5;&#x8BE2;"><a name="&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x67E5;&#x8BE2;" class="plugin-anchor" href="#&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x8BE2;</h3>
<p>&#x56E0;&#x4E3A;&#x7236;&#x6587;&#x6863;&#x548C;&#x5B50;&#x6587;&#x6863;&#x73B0;&#x5728;&#x6709;&#x4E86;&#x5173;&#x8054;&#xFF0C;&#x901A;&#x8FC7;&#x7236;&#x6587;&#x6863;&#x67E5;&#x627E;&#x5B50;&#x6587;&#x6863;&#x5E94;&#x8BE5;&#x6709;&#x66F4;&#x9AD8;&#x7684;&#x6548;&#x7387;&#x3002;&#x627E;&#x5230;&#x7236;&#x6587;&#x6863;&#x6240;&#x5728;&#x7684;&#x5206;&#x7247;&#x5C31;&#x53EF;&#x4EE5;&#xFF0C;&#x5728;&#x5F53;&#x4E2A;&#x5206;&#x7247;&#x4E0A;&#x67E5;&#x8BE2;&#x5C31;&#x53EF;&#x4EE5;&#x3002;</p>
<h4 id="&#x4F9D;&#x636E;-join-type-&#x8FDB;&#x884C;&#x67E5;&#x8BE2;"><a name="&#x4F9D;&#x636E;-join-type-&#x8FDB;&#x884C;&#x67E5;&#x8BE2;" class="anchor-navigation-ex-anchor" href="#&#x4F9D;&#x636E;-join-type-&#x8FDB;&#x884C;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4F9D;&#x636E;-join-type-&#x8FDB;&#x884C;&#x67E5;&#x8BE2;" class="plugin-anchor" href="#&#x4F9D;&#x636E;-join-type-&#x8FDB;&#x884C;&#x67E5;&#x8BE2;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4F9D;&#x636E; join type &#x8FDB;&#x884C;&#x67E5;&#x8BE2;</h4>
<pre><code>// &#x83B7;&#x53D6; session 
GET /v2-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;relation&quot;: {
        &quot;value&quot;: &quot;session&quot;
      }
    }
  }
}

&quot;hits&quot; : [
  {
    &quot;_index&quot; : &quot;v2-loginfo&quot;,
    &quot;_type&quot; : &quot;_doc&quot;,
    &quot;_id&quot; : &quot;AePpwnoB3dYTHluUJh_Y&quot;,
    &quot;_score&quot; : 2.3671236,
    &quot;_source&quot; : {
      &quot;_class&quot; : &quot;com.appinsight.core.dataaccessorlog.model.LogESDetailModel&quot;,
      &quot;@timestamp&quot; : 1626767680597,
      &quot;logTime&quot; : 0,
      &quot;sessionId&quot; : &quot;9bb9eb341c17f54f&quot;,
      &quot;line&quot; : 0,
      &quot;appIndex&quot; : 21,
      &quot;level&quot; : 0,
      &quot;relation&quot; : {
        &quot;name&quot; : &quot;session&quot;
      },
      &quot;appVersion&quot; : &quot;1.2.6&quot;,
      &quot;brand&quot; : &quot;Simulator&quot;,
      &quot;manufacturer&quot; : &quot;Apple&quot;,
      &quot;model&quot; : &quot;Simulator&quot;,
      &quot;os&quot; : &quot;IOS&quot;,
      &quot;osVersion&quot; : &quot;14.5&quot;,
      &quot;sdkVersion&quot; : &quot;1.4.2.1&quot;,
      &quot;userIndex&quot; : 7,
      &quot;userId&quot; : &quot;1234&quot;,
      &quot;sessionStartTime&quot; : 0
    }
  }
]
</code></pre><h3 id="&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><a name="&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;" class="plugin-anchor" href="#&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5229;&#x7528;&#x7236;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;</h3>
<pre><code>GET /v2-loginfo/_search
{
  &quot;size&quot;: 0, 
  &quot;aggs&quot;: {
    &quot;os_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;os&quot;
      },
      &quot;aggs&quot;: {
        &quot;to-logs&quot;: {
          &quot;children&quot;: {
            &quot;type&quot;: &quot;log&quot;
          }
        }
      }
    }
  }
}
</code></pre><h3 id="&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><a name="&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;" class="plugin-anchor" href="#&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5229;&#x7528;&#x5B50;&#x6587;&#x6863;&#x5C5E;&#x6027;&#x5BF9;&#x7236;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x805A;&#x5408;</h3>
<p>parent &#x5E94;&#x8BE5;&#x662F;&#x6709;&#x4E9B;&#x95EE;&#x9898;&#x7684;</p>
<p>&#x4F9D;&#x636E;&#x7236;&#x5C5E;&#x6027;&#x5BF9;&#x5B50;&#x6587;&#x6863;&#x8FDB;&#x884C;&#x5206;&#x7EC4;,&#x5206;&#x7EC4;&#x4E4B;&#x540E;&#x4F9D;&#x636E;</p>
<pre><code>GET /v2-loginfo/_search
{
  &quot;query&quot;: {
    &quot;term&quot;: {
      &quot;os&quot;: {
        &quot;value&quot;: &quot;IOS&quot;
      }
    }
  }, 
  &quot;size&quot;: 0,
  &quot;aggs&quot;: {
    &quot;os_group&quot;: {
      &quot;terms&quot;: {
        &quot;field&quot;: &quot;osVersion&quot;
      },
      &quot;aggs&quot;: {
        &quot;log_group&quot;: {
          &quot;children&quot;: {
            &quot;type&quot;: &quot;log&quot;
          },
          &quot;aggs&quot;: {
            &quot;level_group&quot;: {
              &quot;filter&quot;: {
                &quot;term&quot;: {
                  &quot;level&quot;: &quot;1&quot;
                }
              }
            }
          }
        }
      }
    }
  }
}
</code></pre><h2 id="&#x5206;&#x8BCD;"><a name="&#x5206;&#x8BCD;" class="anchor-navigation-ex-anchor" href="#&#x5206;&#x8BCD;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5206;&#x8BCD;" class="plugin-anchor" href="#&#x5206;&#x8BCD;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5206;&#x8BCD;</h2>
<h3 id="&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;"><a name="&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;" class="anchor-navigation-ex-anchor" href="#&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;" class="plugin-anchor" href="#&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x67E5;&#x770B;&#x5206;&#x8BCD;&#x7ED3;&#x679C;</h3>
<pre><code>GET /_analyze?
{
    &quot;analyzer&quot;: &quot;standard&quot;,
    &quot;text&quot;: &quot;&#x5E8A;&#x524D;&#x660E;&#x6708;&#x5149;&quot;
}
</code></pre><p>&#x5206;&#x8BCD;&#x7ED3;&#x679C;&#x4F1A;&#x5F71;&#x54CD;&#x5230;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;</p>
<pre><code>GET /test-loginfo/_analyze
{
  &quot;analyzer&quot;: &quot;standard&quot;,
  &quot;text&quot;: &quot;iOS 1625299536115.920898  Test Log Dog 4220513835 0&quot;
}

{
  &quot;tokens&quot; : [
    {
      &quot;token&quot; : &quot;ios&quot;,
      &quot;start_offset&quot; : 0,
      &quot;end_offset&quot; : 3,
      &quot;type&quot; : &quot;&lt;ALPHANUM&gt;&quot;,
      &quot;position&quot; : 0
    },
    ...


&#x9ED8;&#x8BA4;&#x5206;&#x8BCD;&#x5C06; iOS &#x5C06; &#x8F6C;&#x6210;&#x4E86;&#x5C0F;&#x5199;.

GET /test-loginfo/_search
{
  &quot;query&quot;: {
      &quot;regexp&quot;: {
        &quot;content&quot;: &quot;iO.*&quot;,
      }
  }    
}

&#x4F7F;&#x7528;&#x6B63;&#x5219;&#x5339;&#x914D;&#x65F6;&#xFF0C;&#x5927;&#x5C0F; iO &#x65E0;&#x6CD5;&#x5339;&#x914D;&#x5C0F;&#x5199;&#x7684;&#x3002;
</code></pre><h3 id="&#x4E2D;&#x6587;&#x5206;&#x8BCD;"><a name="&#x4E2D;&#x6587;&#x5206;&#x8BCD;" class="anchor-navigation-ex-anchor" href="#&#x4E2D;&#x6587;&#x5206;&#x8BCD;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x4E2D;&#x6587;&#x5206;&#x8BCD;" class="plugin-anchor" href="#&#x4E2D;&#x6587;&#x5206;&#x8BCD;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x4E2D;&#x6587;&#x5206;&#x8BCD;</h3>
<p><a href="https://github.com/medcl/elasticsearch-analysis-ik" target="_blank">https://github.com/medcl/elasticsearch-analysis-ik</a></p>
<pre><code>cd your-es-root/plugins/ &amp;&amp; mkdir ik


// &#x521B;&#x5EFA;&#x7D22;&#x5F15;
PUT /my_index

# &#x6DFB;&#x52A0;field&#xFF0C;&#x8BBE;&#x7F6E;&#x5206;&#x8BCD;
POST /my_index/_mapping
{
    &quot;properties&quot;:
    {
        &quot;content&quot;:
        {
            &quot;type&quot;: &quot;text&quot;,
            &quot;analyzer&quot;: &quot;ik_max_word&quot;,
            &quot;search_analyzer&quot;: &quot;ik_smart&quot;
        }
    }
}

# &#x67E5;&#x770B;mapping
{
  &quot;my_index&quot; : {
    &quot;mappings&quot; : {
      &quot;properties&quot; : {
        &quot;content&quot; : {
          &quot;type&quot; : &quot;text&quot;,
          &quot;analyzer&quot; : &quot;ik_max_word&quot;,
          &quot;search_analyzer&quot; : &quot;ik_smart&quot;
        }
      }
    }
  }
}

# &#x521B;&#x5EFA;&#x6570;&#x636E;
POST /my_index/_create/1
{
  &quot;content&quot; : &quot;&#x7F8E;&#x56FD;&#x7559;&#x7ED9;&#x4F0A;&#x62C9;&#x514B;&#x7684;&#x662F;&#x4E2A;&#x70C2;&#x644A;&#x5B50;&#x5417;&quot;
}

# &#x67E5;&#x8BE2;
GET /my_index/_search
{
    &quot;query&quot; : { &quot;match&quot; : { &quot;content&quot; : &quot;&#x7F8E;&#x56FD;&quot; }},
    &quot;highlight&quot; : {
        &quot;pre_tags&quot; : [&quot;&lt;tag1&gt;&quot;, &quot;&lt;tag2&gt;&quot;],
        &quot;post_tags&quot; : [&quot;&lt;/tag1&gt;&quot;, &quot;&lt;/tag2&gt;&quot;],
        &quot;fields&quot; : {
            &quot;content&quot; : {}
        }
    }
}


{
  &quot;took&quot; : 518,
  &quot;timed_out&quot; : false,
  &quot;_shards&quot; : {
    &quot;total&quot; : 1,
    &quot;successful&quot; : 1,
    &quot;skipped&quot; : 0,
    &quot;failed&quot; : 0
  },
  &quot;hits&quot; : {
    &quot;total&quot; : {
      &quot;value&quot; : 1,
      &quot;relation&quot; : &quot;eq&quot;
    },
    &quot;max_score&quot; : 0.2876821,
    &quot;hits&quot; : [
      {
        &quot;_index&quot; : &quot;my_index&quot;,
        &quot;_type&quot; : &quot;_doc&quot;,
        &quot;_id&quot; : &quot;1&quot;,
        &quot;_score&quot; : 0.2876821,
        &quot;_source&quot; : {
          &quot;content&quot; : &quot;&#x7F8E;&#x56FD;&#x7559;&#x7ED9;&#x4F0A;&#x62C9;&#x514B;&#x7684;&#x662F;&#x4E2A;&#x70C2;&#x644A;&#x5B50;&#x5417;&quot;
        },
        &quot;highlight&quot; : {
          &quot;content&quot; : [
            &quot;&lt;tag1&gt;&#x7F8E;&#x56FD;&lt;/tag1&gt;&#x7559;&#x7ED9;&#x4F0A;&#x62C9;&#x514B;&#x7684;&#x662F;&#x4E2A;&#x70C2;&#x644A;&#x5B50;&#x5417;&quot;
          ]
        }
      }
    ]
  }
}
</code></pre><h3 id="&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;"><a name="&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;" class="anchor-navigation-ex-anchor" href="#&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;" class="plugin-anchor" href="#&#x6DFB;&#x52A0;-keyword-&#x5B57;&#x6BB5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6DFB;&#x52A0; keyword &#x5B57;&#x6BB5;</h3>
<p>&#x4FEE;&#x6539;mapping&#x3002;&#x5047;&#x8BBE;&#x539F;&#x6765;&#x53EA;&#x662F;&#x4E00;&#x4E2A; text &#x73B0;&#x5728;&#x8981;&#x6DFB;&#x52A0;keyword</p>
<pre><code>&quot;sessionID&quot; : {
        &quot;type&quot; : &quot;text&quot;,
}
</code></pre><pre><code>PUT /sessioninfo/_mapping
{
  &quot;properties&quot; : {
    &quot;sessionId&quot; : {
      &quot;type&quot; : &quot;text&quot;,
      &quot;fields&quot;: {
                &quot;keyword&quot;: {
                  &quot;type&quot;: &quot;keyword&quot;,
                  &quot;ignore_above&quot;: 256
                }
              }
    }
  }
}
</code></pre><h2 id="filter_1"><a name="filter_1" class="anchor-navigation-ex-anchor" href="#filter_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="filter" class="plugin-anchor" href="#filter"><i class="fa fa-link" aria-hidden="true"></i></a>Filter</h2>
<h3 id="query-filter"><a name="query-filter" class="anchor-navigation-ex-anchor" href="#query-filter"><i class="fa fa-link" aria-hidden="true"></i></a><a name="query-filter" class="plugin-anchor" href="#query-filter"><i class="fa fa-link" aria-hidden="true"></i></a>query filter</h3>
<h3 id="bucket-filter"><a name="bucket-filter" class="anchor-navigation-ex-anchor" href="#bucket-filter"><i class="fa fa-link" aria-hidden="true"></i></a><a name="bucket-filter" class="plugin-anchor" href="#bucket-filter"><i class="fa fa-link" aria-hidden="true"></i></a>bucket filter</h3>
<p>&#x548C;&#x4E00;&#x822C;&#x7684; bucket &#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x53EF;&#x4EE5;&#x52A0;&#x5165;&#x6876;&#x3002;</p>
<pre><code>GET /cars/transactions/_search?search_type=count
{
   &quot;query&quot;:{
      &quot;match&quot;: {
         &quot;make&quot;: &quot;ford&quot;
      }
   },
   &quot;aggs&quot;:{
      &quot;recent_sales&quot;: {
         &quot;filter&quot;: { 
            &quot;range&quot;: {
               &quot;sold&quot;: {
                  &quot;from&quot;: &quot;now-1M&quot;
               }
            }
         },
         &quot;aggs&quot;: {
            &quot;average_price&quot;:{
               &quot;avg&quot;: {
                  &quot;field&quot;: &quot;price&quot; 
               }
            }
         }
      }
   }
}
</code></pre><p>&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5462;&#xFF1F;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x4E3A;&#x6216;&#xFF0C;&#x6EE1;&#x8DB3;&#x4E00;&#x4E2A;&#xFF0C;&#x6587;&#x6863;&#x5C31;&#x4F1A;&#x5339;&#x914D;&#x3002;&#x5F53;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BBE;&#x7F6E;&#x6761;&#x4EF6;&#x4E3A;and&#x89E3;&#x51B3;</p>
<p>&#x4F7F;&#x7528;&#x6876;&#x8FC7;&#x6EE4;&#xFF0C;&#x548C;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E4B;&#x95F4;&#x662F;&#x4E14;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x5148;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6EE1;&#x8DB3;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x7B26;&#x5408;&#x6876;&#x7684;&#x6761;&#x4EF6;&#xFF0C;&#x5FC5;&#x987B;&#x4E24;&#x4E2A;&#x90FD;&#x6EE1;&#x8DB3;&#x624D;&#x80FD;&#x8FDB;&#x5165;&#x6876;&#x3002;</p>
<h3 id="post-filter"><a name="post-filter" class="anchor-navigation-ex-anchor" href="#post-filter"><i class="fa fa-link" aria-hidden="true"></i></a><a name="post-filter" class="plugin-anchor" href="#post-filter"><i class="fa fa-link" aria-hidden="true"></i></a>post filter</h3>
<p>&#x53EA;&#x8FC7;&#x6EE4;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x4E0D;&#x8FC7;&#x6EE4;&#x805A;&#x5408; &#x3002;</p>
<p>&#x8BE5;&#x8FC7;&#x6EE4;&#x5668;&#x4F1A;&#x5728;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x751F;&#x6548;,&#x6B63;&#x56E0;&#x4E3A;&#x5B83;&#x5728;&#x67E5;&#x8BE2;&#x6267;&#x884C;&#x540E;&#x624D;&#x4F1A;&#x8FD0;&#x884C;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x5E76;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x67E5;&#x8BE2;&#x4F5C;&#x7528;&#x57DF; ,&#x56E0;&#x6B64;&#x5C31;&#x4E0D;&#x4F1A;&#x5BF9;&#x805A;&#x5408;&#x6709;&#x6240;&#x5F71;&#x54CD;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x8FD9;&#x4E00;&#x884C;&#x4E3A;&#x5728;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;&#x8FC7;&#x6EE4;&#x5668;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x7684;&#x805A;&#x5408;&#x6309;&#x989C;&#x8272;&#x5BF9; ford &#x7C7B;&#x578B;&#x7684;&#x8FDB;&#x884C;&#x805A;&#x5408;&#xFF0C;&#x6EE1;&#x8DB3;&#x6761;&#x4EF6;&#x7684;&#x662F;&#x5404;&#x79CD;&#x989C;&#x8272;&#x7684; ford</p>
<pre><code>GET /cars/transactions/_search?search_type=count
{
    &quot;query&quot;: {
        &quot;match&quot;: {
            &quot;make&quot;: &quot;ford&quot;
        }
    },    
    &quot;aggs&quot; : {
        &quot;all_colors&quot;: {
            &quot;terms&quot; : { &quot;field&quot; : &quot;color&quot; }
        }
    }
}
</code></pre><p>&#x5982;&#x679C;&#x9700;&#x8981;&#x627E;&#x51FA;&#x7EFF;&#x8272;&#x7684;ford&#xFF0C;&#x4F46;&#x540C;&#x65F6;&#x8981;&#x4FDD;&#x7559;&#x805A;&#x5408;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; post_filter</p>
<pre><code>GET /cars/transactions/_search?search_type=count
{
    &quot;query&quot;: {
        &quot;match&quot;: {
            &quot;make&quot;: &quot;ford&quot;
        }
    },
    &quot;post_filter&quot;: {    
        &quot;term&quot; : {
            &quot;color&quot; : &quot;green&quot;
        }
    },
    &quot;aggs&quot; : {
        &quot;all_colors&quot;: {
            &quot;terms&quot; : { &quot;field&quot; : &quot;color&quot; }
        }
    }
}
</code></pre><p>&#x53EA;&#x6709;&#x5F53;&#x4F60;&#x9700;&#x8981;&#x5BF9;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x548C;&#x805A;&#x5408;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;&#x65F6;&#x624D;&#x8003;&#x8651;&#x4F7F;&#x7528;post_filter&#x3002;&#x6709;&#x65F6;&#x4E00;&#x4E9B;&#x7528;&#x6237;&#x4F1A;&#x76F4;&#x63A5;&#x5728;&#x5E38;&#x89C4;&#x641C;&#x7D22;&#x4E2D;&#x4F7F;&#x7528;post_filter&#x3002;</p>
<p>&#x4E0D;&#x8981;&#x8FD9;&#x6837;&#x505A;&#xFF01;post_filter&#x4F1A;&#x5728;&#x67E5;&#x8BE2;&#x4E4B;&#x540E;&#x624D;&#x4F1A;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x5931;&#x53BB;&#x8FC7;&#x6EE4;&#x5728;&#x6027;&#x80FD;&#x4E0A;&#x5E2E;&#x52A9;(&#x6BD4;&#x5982;&#x7F13;&#x5B58;)&#x3002;</p>
<p>post_filter&#x5E94;&#x8BE5;&#x53EA;&#x548C;&#x805A;&#x5408;&#x4E00;&#x8D77;&#x4F7F;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x4EC5;&#x5F53;&#x4F60;&#x4F7F;&#x7528;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#x65F6;&#x3002;</p>
<h2 id="&#x90E8;&#x7F72;"><a name="&#x90E8;&#x7F72;" class="anchor-navigation-ex-anchor" href="#&#x90E8;&#x7F72;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x90E8;&#x7F72;" class="plugin-anchor" href="#&#x90E8;&#x7F72;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x90E8;&#x7F72;</h2>
<h3 id="&#x5B89;&#x88C5;-elastic"><a name="&#x5B89;&#x88C5;-elastic" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;-elastic"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B89;&#x88C5;-elastic" class="plugin-anchor" href="#&#x5B89;&#x88C5;-elastic"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5; elastic</h3>
<ol>
<li><p>&#x89E3;&#x538B; elasticsearch-7.13.2-linux-x86_64.tar.gz</p>
</li>
<li><p>&#x4FEE;&#x6539;  $ES_HOME/config/elasticsearch.yml</p>
<pre><code># elasticsearch.yml

network.host: 0.0.0.0
xpack.security.enabled: true
xpack.security.transport.ssl.enabled: true
cluster.initial_master_nodes: [&quot;node-1&quot;]
</code></pre></li>
<li><p>&#x4EE5;&#x975E;root&#x7528;&#x6237;&#x6267;&#x884C;  <code>bin/elasticsearch -d</code></p>
</li>
<li><p><code>bin/elasticsearch-setup-passwords interactive</code></p>
<p>&#x5C06;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x8BBE;&#x7F6E;&#x4E3A; <code>ASD!asd#123</code></p>
</li>
<li><p>&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <a href="http://localhost:9200" target="_blank">http://localhost:9200</a> &#x8BBF;&#x95EE; elastic,</p>
<p>&#x8D26;&#x53F7;&#x662F; elastic &#x5BC6;&#x7801;&#x662F; ASD!asd#123</p>
</li>
</ol>
<h3 id="&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;"><a name="&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;" class="anchor-navigation-ex-anchor" href="#&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;" class="plugin-anchor" href="#&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5B89;&#x88C5;&#x5206;&#x8BCD;&#x5668;</h3>
<ol>
<li><code>unzip elasticsearch-analysis-ik-7.13.2.zip</code></li>
<li><code>mv elasticsearch-analysis-ik-7.13.2 ik</code></li>
<li><code>mv ik $ES_HOME/plugins/</code></li>
</ol>
<h2 id="&#x5E76;&#x53D1;"><a name="&#x5E76;&#x53D1;" class="anchor-navigation-ex-anchor" href="#&#x5E76;&#x53D1;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x5E76;&#x53D1;" class="plugin-anchor" href="#&#x5E76;&#x53D1;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x5E76;&#x53D1;</h2>
<p>&#x7531;&#x4E8E;&#x5728; Elasticsearch &#x4E2D;&#x5355;&#x4E2A;&#x6587;&#x6863;&#x7684;&#x589E;&#x5220;&#x6539;&#x90FD;&#x662F;&#x539F;&#x5B50;&#x6027;&#x64CD;&#x4F5C;,&#x90A3;&#x4E48;&#x5C06;&#x76F8;&#x5173;&#x5B9E;&#x4F53;&#x6570;&#x636E;&#x90FD;&#x5B58;&#x50A8;&#x5728;&#x540C;&#x4E00;&#x6587;&#x6863;&#x4E2D;&#x4E5F;&#x5C31;&#x7406;&#x6240;&#x5F53;&#x7136;&#x3002; &#x6BD4;&#x5982;&#x8BF4;,&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x8BA2;&#x5355;&#x53CA;&#x5176;&#x660E;&#x7EC6;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x4E2D;&#x3002;</p>
<h2 id="&#x6BB5;"><a name="&#x6BB5;" class="anchor-navigation-ex-anchor" href="#&#x6BB5;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6BB5;" class="plugin-anchor" href="#&#x6BB5;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6BB5;</h2>
<h3 id="&#x6BB5;&#x5408;&#x5E76;"><a name="&#x6BB5;&#x5408;&#x5E76;" class="anchor-navigation-ex-anchor" href="#&#x6BB5;&#x5408;&#x5E76;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="&#x6BB5;&#x5408;&#x5E76;" class="plugin-anchor" href="#&#x6BB5;&#x5408;&#x5E76;"><i class="fa fa-link" aria-hidden="true"></i></a>&#x6BB5;&#x5408;&#x5E76;</h3>
<h2 id="translog_1"><a name="translog_1" class="anchor-navigation-ex-anchor" href="#translog_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="translog" class="plugin-anchor" href="#translog"><i class="fa fa-link" aria-hidden="true"></i></a>Translog</h2>
<h2 id="refresh_1"><a name="refresh_1" class="anchor-navigation-ex-anchor" href="#refresh_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="refresh" class="plugin-anchor" href="#refresh"><i class="fa fa-link" aria-hidden="true"></i></a>Refresh</h2>
<h2 id="spring-data-elasticsearch"><a name="spring-data-elasticsearch" class="anchor-navigation-ex-anchor" href="#spring-data-elasticsearch"><i class="fa fa-link" aria-hidden="true"></i></a><a name="spring-data-elasticsearch" class="plugin-anchor" href="#spring-data-elasticsearch"><i class="fa fa-link" aria-hidden="true"></i></a>spring data elasticsearch</h2>
<pre><code>@Data
@Document(indexName = &quot;t-loginfo&quot;)
public class LogESDetailModel implements Serializable {
    @Id
    private String id;

    @Field(type = FieldType.Text, name = &quot;content&quot;, analyzer = &quot;ik_smart&quot;, searchAnalyzer = &quot;ik_smart&quot;)
    private String content;


    @Field(type = FieldType.Text, name = &quot;sessionID&quot;)
    // @Field(type = FieldType.Text, name = &quot;sessionID&quot;, fielddata = true,ignoreAbove = 256)
    private String sessionID;
}

@Repository
public interface LogInsightESRepository extends ElasticsearchRepository&lt;LogESDetailModel, String&gt; {

}
</code></pre><h3 id="ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;"><a name="ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;" class="anchor-navigation-ex-anchor" href="#ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;"><i class="fa fa-link" aria-hidden="true"></i></a><a name="ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;" class="plugin-anchor" href="#ignoreabove-&#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A;-text-&#x7684;-field&#xFF0C;&#x5BFC;&#x81F4;-analyzer-&#x8BBE;&#x7F6E;&#x5931;&#x8D25;"><i class="fa fa-link" aria-hidden="true"></i></a>ignoreAbove &#x4F1A;&#x5F71;&#x54CD;&#x6240;&#x6709;&#x7C7B;&#x578B;&#x4E3A; text &#x7684; field&#xFF0C;&#x5BFC;&#x81F4; analyzer &#x8BBE;&#x7F6E;&#x5931;&#x8D25;</h3>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709; <code>ignoreAbove = 256</code> &#xFF0C;&#x9879;&#x76EE;&#x4E00;&#x542F;&#x52A8;&#xFF0C;Index&#x7684;mapping&#x91CC;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x7ACB;&#x5373;&#x521B;&#x5EFA;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;  <code>GET /t-loginfo/_mapping</code>&#x67E5;&#x8BE2;&#x5230;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x5982;&#x679C;&#x6709;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x4E86; ,&#x90A3;&#x4E48;mapping &#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x7B49;&#x5230;&#x6570;&#x636E;&#x5199;&#x5165;&#x5230;Index&#x540E; mapping &#x624D;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x4E3A;&#x4EC0;&#x4E48;&#x3002;</p>
<pre><code>GET /t-sessioninfo/_mapping

{
  &quot;t-sessioninfo&quot; : {
    &quot;mappings&quot; : { }
  }
}
</code></pre><p>&#x4E0A;&#x9762;&#x7684;&#x95EE;&#x9898;&#x5BFC;&#x81F4; analyzer = &quot;ik_smart&quot;, searchAnalyzer = &quot;ik_smart&quot; &#x6CA1;&#x6709;&#x751F;&#x6548;&#x3002;<img src="../Users/wxf/AWorkSpace/Book-AppInsight/server/&#x622A;&#x5C4F;2021-07-20 14.22.37.png" alt=""></p>
<h3 id="mapping"><a name="mapping" class="anchor-navigation-ex-anchor" href="#mapping"><i class="fa fa-link" aria-hidden="true"></i></a><a name="mapping" class="plugin-anchor" href="#mapping"><i class="fa fa-link" aria-hidden="true"></i></a>@Mapping</h3>
<p>&#x76F4;&#x63A5;&#x5728;&#x5B57;&#x6BB5;&#x4E0A;&#x901A;&#x8FC7; @Field &#x6CE8;&#x89E3;&#x8BBE;&#x7F6E;mapping &#x7684;&#x5C5E;&#x6027;&#x4F1A;&#x6709;&#x5404;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982; @Field(ignoreAbove = 256) &#x7B49;&#x5BFC;&#x81F4;Index &#x7684;&#x5C5E;&#x6027;&#x6CA1;&#x6709;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x751F;&#x6210;&#xFF0C;&#x8981;&#x5230;&#x4E0A;&#x4F20;&#x6570;&#x636E;&#x65F6;&#x624D;&#x80FD;&#x786E;&#x5B9A;&#x5C5E;&#x6027;&#xFF0C;&#x611F;&#x89C9;&#x8FD9;&#x4E2A;mapping  &#x662F;&#x52A8;&#x6001;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x81EA;&#x5DF1;&#x914D;&#x7F6E;&#x7684;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7; @Mapping &#x4ECE; json &#x8BFB;&#x53D6;&#xFF0C;&#x5E94;&#x7528;&#x4E00;&#x542F;&#x52A8;&#xFF0C;&#x5C5E;&#x6027;&#x5C31;&#x90FD;&#x8BBE;&#x7F6E;&#x4E86;&#x3002; </p>
<pre><code>@Mapping(mappingPath = &quot;logMapping.json&quot;)

// logMapping.json
{
  &quot;properties&quot; : {
    &quot;@timestamp&quot; : {
      &quot;type&quot; : &quot;long&quot;
    },
    &quot;appIndex&quot; : {
      &quot;type&quot; : &quot;text&quot;
    },
    &quot;appVersion&quot; : {
      &quot;type&quot; : &quot;text&quot;
    },
    &quot;brand&quot; : {
      &quot;type&quot; : &quot;text&quot;
    },
    &quot;content&quot; : {
      &quot;type&quot; : &quot;text&quot;,
      &quot;analyzer&quot; : &quot;ik_max_word&quot;,
      &quot;search_analyzer&quot; : &quot;ik_smart&quot;
    }
  }  
}
</code></pre><p>Child</p>
<pre><code>HasChildQueryBuilder hasChildQueryBuilder = new HasChildQueryBuilder(&quot;log&quot;,filter, ScoreMode.None);
</code></pre><p><img src="../Users/wxf/AWorkSpace/Book-AppInsight/server/11625799281_.pic_hd.jpg" alt="11625799281_.pic_hd"></p>
<h2 id="lucene"><a name="lucene" class="anchor-navigation-ex-anchor" href="#lucene"><i class="fa fa-link" aria-hidden="true"></i></a><a name="lucene" class="plugin-anchor" href="#lucene"><i class="fa fa-link" aria-hidden="true"></i></a>lucene</h2>
<p>FST&#xFF08;Finite State Transducer&#xFF09;&#x6709;&#x9650;&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x673A;</p>
<p>cat&#x3001;deep&#x3001;do&#x3001;dog&#x3001;dogs</p>
<ol>
<li><p>start-&gt; c  -&gt; a -&gt; t-&gt;end</p>
</li>
<li><p>start-&gt; c  -&gt; a -&gt; t-&gt;end</p>
<p>&#x200B;        -&gt; d -&gt; e -&gt; e -&gt; p</p>
</li>
</ol>
<ol>
<li><p>start-&gt; c  -&gt; a -&gt; t-&gt;end</p>
<p>&#x200B;        -&gt; d -&gt; e -&gt; e -&gt; p</p>
<p>&#x200B;                -&gt; o </p>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: elk">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../flutter/" class="navigation navigation-next " aria-label="Next page: flutter">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"elk","level":"1.6.1","depth":2,"next":{"title":"flutter","level":"1.7","depth":1,"path":"flutter/README.md","ref":"flutter/README.md","articles":[{"title":"Flutter","level":"1.7.1","depth":2,"path":"flutter/Flutter.md","ref":"flutter/Flutter.md","articles":[]}]},"previous":{"title":"elk","level":"1.6","depth":1,"path":"elk/README.md","ref":"elk/README.md","articles":[{"title":"elk","level":"1.6.1","depth":2,"path":"elk/elk.md","ref":"elk/elk.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","splitter","expandable-chapters-small","anchors","anchor-navigation-ex"],"styles":{"website":"./styles/website.css"},"pluginsConfig":{"github":{"url":"https://github.com/Blankj"},"splitter":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"donate":{"alipay":"./source/images/donate.png","title":"","button":"赞赏","alipayText":" "},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":false},"favicon":{"shortcut":"./source/images/favicon.jpg","bookmark":"./source/images/favicon.jpg","appleTouch":"./source/images/apple-touch-icon.jpg","appleTouchMore":{"120x120":"./source/images/apple-touch-icon.jpg","180x180":"./source/images/apple-touch-icon.jpg"}},"github-buttons":{"buttons":[{"user":"Blankj","repo":"glory","type":"star","size":"small","count":true}]},"expandable-chapters-small":{},"sharing":{"qq":false,"all":["google","facebook","weibo","twitter","qq","qzone","linkedin","pocket"],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":false,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"观星","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"观星","language":"zh-hans","gitbook":"3.2.3","description":"每天都是一次迭代，其他变得更好"},"file":{"path":"elk/elk.md","mtime":"2021-07-29T08:27:43.411Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-19T11:46:32.525Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

